<properties
	pageTitle="수동 또는 자동으로 인스턴스 개수 조정 | Microsoft Azure"
	description="Azure에서 서비스 크기를 조정하는 방법을 알아봅니다."
	authors="rboucher"
	manager=""
	editor=""
	services="monitoring-and-diagnostics"
	documentationCenter="monitoring-and-diagnostics"/>

<tags
	ms.service="monitoring-and-diagnostics"
	ms.workload="na"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="09/08/2015"
	ms.author="robb"/>

# 수동 또는 자동으로 인스턴스 개수 조정

[Azure 포털](https://portal.azure.com/)에서 서비스의 인스턴스 개수를 수동으로 설정하거나, 수요에 다라 자동으로 크기가 조정되도록 매개 변수를 설정할 수 있습니다. 이를 일반적으로 *규모 확장* 또는 *규모 감축*이라고 합니다.

인스턴스 개수에 따라 크기를 조정하기 전에 인스턴스 개수뿐 아니라 **가격 책정 계층**도 크기 조정에 영향을 준다는 것을 고려해야 합니다. 가격 책정 계층마다 다른 코어 및 메모리 수를 가질 수 있으므로 인스턴스 수가 동일할 때 성능이 더 높습니다(*강화* 또는 *규모 축소*). 이 문서에서는 특히 *규모 감축* 및 *규모 확장*에 대해 설명합니다.

포털에서 규모를 감축할 수 있으며, [REST API](https://msdn.microsoft.com/library/azure/dn931953.aspx) 또는 [.NET SDK](https://www.nuget.org/packages/Microsoft.Azure.Insights/)를 사용하여 수동 또는 자동으로 크기를 조정할 수도 있습니다.

## 수동으로 크기 조정

1. [Azure 포털](https://portal.azure.com/)에서 **찾아보기**를 클릭한 다음 크기를 조정할 리소스(예: **앱 서비스 계획**)로 이동합니다.

2. **작업**의 **크기 조정** 타일에 크기 조정 상태가 표시됩니다. 수동으로 크기 조정하는 경우 **Off**이고, 한 개 이상의 성능 메트릭을 기준으로 크기를 조정하는 경우 **On**입니다. ![크기 조정 타일](./media/insights-how-to-scale/Insights_UsageLens.png)

3. 타일을 클릭하면 **크기 조정** 블레이드로 이동합니다. 크기 조정 블레이드의 맨 위에서 서비스의 자동 크기 조정 작업 기록을 볼 수 있습니다. ![크기 조정 블레이드](./media/insights-how-to-scale/Insights_ScaleBladeDayZero.png)

>[AZURE.NOTE] 자동 크기 조정에 의해 수행되는 작업만 이 차트에 표시됩니다. 인스턴스 개수를 수동으로 조정하는 경우 이 차트에 변경 내용이 반영되지 않습니다.

4. 슬라이더를 사용하여 수동으로 **인스턴스** 수를 조정할 수 있습니다.
5. **저장**을 클릭하면 거의 즉시 해당 인스턴스 수로 크기가 조정됩니다.

## 미리 설정된 메트릭을 기준으로 크기 조정

메트릭을 기준으로 인스턴스 수를 자동으로 조정하려는 경우 **크기 조정 기준** 드롭다운에서 원하는 메트릭을 선택합니다. 예를 들어 **앱 서비스 계획**의 경우 **CPU 비율**을 기준으로 크기를 조정할 수 있습니다.

1. 메트릭을 선택하면 슬라이더 및/또는 크기를 조정할 인스턴스 수의 범위를 입력할 수 있는 텍스트 상자가 표시됩니다.

    ![CPU 비율이 있는 크기 조정 블레이드](./media/insights-how-to-scale/Insights_ScaleBladeCPU.png)

    자동 크기 조정은 부하에 관계없이 설정된 경계 아래나 위로 서비스를 설정하지 않습니다.

2. 메트릭의 목표 범위를 선택합니다. 예를 들어 **CPU 비율**을 선택한 경우 서비스의 모든 인스턴스에 대한 평균 CPU 목표를 설정할 수 있습니다. 평균 CPU가 정의된 최대값을 초과하면 규모 확장이 발생하고, 평균 CPU가 최소값 아래로 떨어지면 규모 감축이 발생합니다.

3. **저장** 명령을 클릭합니다. 자동 크기 조정은 몇 분마다 검사하여 메트릭에 대한 인스턴스 범위 및 목표 내에 있는지 확인합니다. 서비스가 추가 트래픽을 받으면 아무 작업도 수행하지 않고 더 많은 인스턴스를 얻을 수 있습니다.

## 기타 메트릭을 기준으로 크기 조정

**크기 조정 기준** 드롭다운에 표시되는 기본 설정 이외의 메트릭을 기준으로 크기를 조정할 수 있으며, 규모 확장 및 규모 감축 규칙의 복합 집합을 사용할 수도 있습니다.

### 규칙 추가 또는 변경

1. **크기 조정 기준** 드롭다운에서 **일정 및 성능 규칙**을 선택합니다. ![성능 규칙](./media/insights-how-to-scale/Insights_PerformanceRules.png)

2. 이전에 자동 크기 조정을 사용한 경우 사용된 정확한 규칙의 뷰가 표시됩니다.

3. 다른 메트릭을 기준으로 크기를 조정하려면 **규칙 추가** 행을 클릭합니다. 기존 행 중 하나를 클릭하여 이전에 사용한 메트릭에서 크기 조정 기준으로 사용하려는 메트릭으로 변경할 수도 있습니다. ![규칙 추가](./media/insights-how-to-scale/Insights_AddRule.png)

4. 이제 크기 조정 기준으로 사용하려는 메트릭을 선택해야 합니다. 메트릭을 선택할 때는 다음 몇 가지 사항을 고려해야 합니다.
    * 메트릭을 가져오는 *리소스*. 일반적으로 크기를 조정할 리소스와 동일합니다. 그러나 저장소 큐의 깊이를 기준으로 크기를 조정하는 경우 리소스는 크기 조정 기준으로 사용하려는 큐에 있습니다.
    * *메트릭 이름* 자체
    * 메트릭의 *시간 집계*. *기간* 동안 데이터가 결합된 방식입니다.

5. 메트릭을 선택한 후 메트릭에 대한 임계값과 연산자를 선택합니다. 예를 들어 **80%** **보다 큼**이라고 설정할 수 있습니다.

6. 그런 다음 수행할 작업을 선택합니다. 다음과 같은 몇 가지 유형의 작업이 있습니다.
    * 증가 또는 감소(개수) - **값** 으로 정의한 개수의 인스턴스를 추가하거나 제거합니다.
    * 증가 또는 감소(퍼센트) - 퍼센트만큼 인스턴스 개수를 변경합니다. 예를 들어 **값** 필드에 25를 입력하고 현재 8개의 인스턴스가 있으면 2개가 추가됩니다.
    * 다음 개수로 증가 또는 감소 - 인스턴스 개수를 정의한 **값**으로 설정합니다.

7. 끝으로, 정지 기간을 선택할 수 있습니다. 정지 기간은 이전 크기 조정 작업 이후 이 규칙이 다시 크기를 조정하기 위해 대기해야 하는 기간입니다.

8. 규칙을 구성한 후 **확인**을 누릅니다.

9. 원하는 규칙을 모두 구성했으면 **저장** 명령을 눌러야 합니다.

### 여러 단계로 크기 조정

위의 예제는 상당히 기본적입니다. 그러나 보다 적극적으로 강화(또는 규모 축소)하려는 경우 동일한 메트릭에 대해 여러 개의 크기 조정 규칙을 추가할 수 있습니다. 예를 들어 CPU 비율에 대해 2개의 크기 조정 규칙을 정의할 수 있습니다.

1. CPU 비율이 60%를 초과하는 경우 1개 인스턴스 규모 확장
2. CPU 비율이 85%를 초과하는 경우 3개 인스턴스 규모 확장

![여러 크기 조정 규칙](./media/insights-how-to-scale/Insights_MultipleScaleRules.png)

이 추가 규칙을 사용하면 크기 조정 작업 이전에 로드가 85%를 넘는 경우 1개가 아니라 2개의 추가 인스턴스를 얻게 됩니다.

## 일정을 기준으로 크기 조정


기본적으로 크기 조정 규칙을 만드는 경우 항상 적용됩니다. 프로필 머리글을 클릭하면 이를 확인할 수 있습니다.

![프로필](./media/insights-how-to-scale/Insights_Profile.png)

그러나 주말보다 주중이나 낮 시간 동안 더 적극적으로 크기를 조정하는 것이 좋습니다. 근무 외 시간에는 서비스를 완전히 종료할 수도 있습니다.

1. 이렇게 하려면 프로필에서 **항상** 대신 **되풀이**를 선택한 다음 프로필을 적용할 시간을 선택합니다.

2. 예를 들어 주중에 적용되는 프로필을 설정하려면 **요일** 드롭다운에서 **토요일** 및 **일요일**을 선택 취소합니다.

3. 낮 시간 동안 적용되는 프로필을 설정하려면 **시작 시간**을 시작할 시간으로 설정합니다. ![기본 되풀이](./media/insights-how-to-scale/Insights_ProfileRecurrence.png)

4. **확인**을 클릭합니다.

5. 다음에는 다른 시간에 적용할 프로필을 추가해야 합니다. **프로필 추가** 행을 클릭합니다. ![근무 외 시간](./media/insights-how-to-scale/Insights_ProfileOffWork.png)

6. 두 번째 새 프로필에 이름을 지정합니다. 예를 들어 **근무 외 시간**으로 지정할 수 있습니다.

7. **되풀이**를 다시 선택한 다음 이 시간 동안 원하는 인스턴스 개수 범위를 선택합니다.

8. 기본 프로필과 마찬가지로, 이 프로필을 적용할 **요일** 및 **시작 시간**을 선택합니다.

>[AZURE.NOTE] 자동 크기 조정은 선택한 **표준 시간대**에 대한 일광 절약 규칙을 사용합니다. 그러나 일광 절약 시간제 동안 UTC 오프셋은 일광 절약 UTC 오프셋이 아니라 기본 표준 시간대 오프셋을 표시합니다.

9. **확인**을 클릭합니다.

10. 이제 두 번째 프로필 중에 적용할 규칙을 추가해야 합니다. **규칙 추가**를 클릭한 다음 기본 프로필과 동일한 규칙을 구성할 수 있습니다. ![근무 외 시간에 규칙 추가](./media/insights-how-to-scale/Insights_RuleOffWork.png)

11. 규모 확장 및 규모 감축에 대한 규칙을 모두 만들어야 합니다. 그렇지 않으면 프로필 중에 인스턴스 개수가 증가(또는 감소)하기만 합니다.

12. 끝으로, **저장**을 클릭합니다.

## 다음 단계

* [서비스 메트릭을 모니터링](insights-how-to-customize-monitoring.md)하여 서비스를 사용 가능하며 응답할 수 있는 상태로 유지합니다.
* [모니터링 및 진단을 사용](insights-how-to-use-diagnostics.md)하여 서비스의 자세한 고빈도 메트릭을 수집합니다.
* 작업 이벤트가 발생하거나 메트릭이 임계값을 초과할 때마다 [경고 알림을 수신](insights-receive-alert-notifications.md)합니다.
* 클라우드에서 코드의 성능을 정확히 파악하려는 경우[응용 프로그램 성능을 모니터링](../application-insights/app-insights-azure-web-apps.md)합니다.
* [이벤트 및 감사 로그를 보고](insights-debugging-with-events.md) 서비스에서 발생한 모든 사항을 알아봅니다.
* 페이지가 다운된 경우 이를 찾을 수 있도록 Application Insights를 사용하여 [웹 페이지의 가용성 및 응답성을 모니터링](../application-insights/app-insights-monitor-web-app-availability.md)합니다.

<!---HONumber=AcomDC_0914_2016-->