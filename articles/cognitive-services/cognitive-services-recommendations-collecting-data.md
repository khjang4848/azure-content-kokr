<properties
	pageTitle="모델 학습을 위한 데이터 수집: 기계 학습 권장 사항 API | Microsoft Azure"
	description="Azure 기계 학습 권장 사항 - 모델 학습을 위한 데이터 수집"
	services="cognitive-services"
	documentationCenter=""
	authors="luiscabrer"
	manager="jhubbard"
	editor="cgronlun"/>

<tags
	ms.service="cognitive-services"
	ms.workload="data-services"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="09/06/2016"
	ms.author="luisca"/>

#  모델 학습을 위한 데이터 수집 #

권장 사항 API에서는 지난 트랜잭션을 학습하여 특정 사용자에게 권장되어야 하는 항목을 찾습니다.

모델을 만든 후 카탈로그 파일 및 사용 현황 데이터 등 교육을 수행하기 전에 두 가지 정보를 제공해야 합니다.

>   아직 수행하지 않은 경우 [빠른 시작 가이드](cognitive-services-recommendations-quick-start.md)를 완료하는 것이 좋습니다.


## 카탈로그 데이터 ##

### 카탈로그 파일 형식 ###

카탈로그 파일은 고객에게 제공하는 항목에 대한 정보를 포함합니다. 카탈로그 데이터는 다음 형식을 따라야 합니다.

- 기능 사용 안 함 - `<Item Id>,<Item Name>,<Item Category>[,<Description>]`

- 기능 사용 - `<Item Id>,<Item Name>,<Item Category>,[<Description>],<Features list>`

#### 카탈로그 파일의 샘플 행

기능 사용 안 함:

    AAA04294,Office Language Pack Online DwnLd,Office
    AAA04303,Minecraft Download Game,Games
    C9F00168,Kiruna Flip Cover,Accessories

기능 사용:

    AAA04294,Office Language Pack Online DwnLd,Office,, softwaretype=productivity, compatibility=Windows
    BAB04303,Minecraft DwnLd,Games, softwaretype=gaming,, compatibility=iOS, agegroup=all
    C9F00168,Kiruna Flip Cover,Accessories, compatibility=lumia,, hardwaretype=mobile

#### 형식 세부 정보

| 이름 | 필수 | 형식 | 설명 |
|:---|:---|:---|:---|
| 항목 ID |예 | [A-z], [a-z], [0-9], [\_] &#40;밑줄&#41;, [-] &#40;대시&#41;<br> 최대 길이: 50 | 항목의 고유 식별자 |
| Item Name | 예 | 영숫자 문자<br> 최대 길이: 255 | 항목 이름 |
| Item Category | 예 | 영숫자 문자 <br> 최대 길이: 255 | 이 항목이 속하는 범주(예: 요리책, 드라마...). 비어 있을 수 있습니다. |
| 설명 | 아니요, 기능이 없는 경우(그러나 비어 있을 수 있음) | 영숫자 문자 <br> 최대 길이: 4000 | 이 항목에 대한 설명 |
| Features list | 아니요 | 영숫자 문자 <br> 최대 길이: 4000; 최대 기능 수: 20 | 쉼표로 구분된 기능 이름 목록 = 모델 권장 사항을 향상시키기는 데 사용할 수 있는 기능 값.|

#### 카탈로그 파일 업로드

카탈로그 파일을 업로드하는 방법은 [API 참조](https://westus.dev.cognitive.microsoft.com/docs/services/Recommendations.V4.0/operations/56f316efeda5650db055a3e1)를 살펴봅니다.

카탈로그 파일의 콘텐츠를 요청 본문으로 전달해야 합니다.

여러 번 호출하여 여러 카탈로그 파일을 같은 모델에 업로드하면 새 카탈로그 항목만 삽입됩니다. 기존 항목은 원래 값으로 유지됩니다. 이 메서드를 사용하여 카탈로그 데이터를 업데이트할 수 없습니다.

>   참고: 최대 파일 크기는 200MB입니다. 지원되는 카탈로그에 있는 항목의 최대 수는 100,000개 항목입니다.


## 카탈로그에 기능을 추가하는 이유는 무엇인가요?

권장 사항 엔진은 고객이 선호하거나 구매할 가능성이 높은 항목을 알려 주는 통계 모델을 만듭니다. 상호 작용하지 않은 새 제품이 있는 경우 동시 발생 상태인 모델을 만드는 것이 불가능합니다. 저장소에서 새 "어린이용 바이올린"을 제공하기 시작한다고 가정하면 해당 바이올린을 이전에 판매하지 않았기 때문에 해당 바이올린을 권장하는 다른 항목을 제시할 수 없습니다.

즉, 엔진이 해당 바이올린에 대한 정보를 알고 있는 경우(즉, 악기이며 7-10살 어린이용으로 비싼 바이올린이 아니라는 점 등) 엔진은 유사한 기능을 가진 다른 제품을 학습할 수 있습니다. 예를 들어, 과거에 바이올린을 판매해왔다면 일반적으로 바이올린을 구입하는 사람은 클래식 음악 CD와 악보 스탠드를 구입하는 경향이 있음을 알 수 있습니다. 시스템은 기능 간에 이러한 연결을 찾아서 새 바이올린이 사용되지 않는 동안 기능에 따라 권장 사항을 제공할 수 있습니다.

기능은 카탈로그 데이터의 일부로 가져오고, 순위 작성이 완료되면 순위(또는 모델에서 기능의 중요도)가 연결됩니다. 기능 순위는 사용 데이터의 패턴 및 항목 유형에 따라 변경될 수 있습니다. 그러나 일관된 사용/항목을 위해 순위는 조금만 변동되어야 합니다. 기능의 순위는 음수가 아닌 숫자입니다. 숫자 0은 기능의 순위가 매겨지지 않았음을 의미합니다(첫 번째 순위 빌드가 완료되기 전에 이 API를 호출한 경우에 발생). 순위가 지정된 날짜를 점수 유효 시간이라고 합니다.


###기능은 범주별

범주와 유사한 기능을 만들어야 함을 의미합니다. 예를 들어 price=9.34는 범주별 기능이 아닙니다. 반면에 priceRange=Under5Dollars와 같은 기능은 범주별 기능입니다. 또 다른 일반적인 실수는 항목의 이름을 기능으로 사용하는 것입니다. 이 경우 항목의 이름이 고유하게 되므로 범주를 설명하지 않게 됩니다. 기능이 항목의 범주를 나타내도록 해야 합니다.


###어떤 기능을 얼마나 많이 사용해야 하나요?


최종적으로 Recommendations 빌드는 최대 20개의 기능이 있는 모델의 빌드를 지원합니다. 카탈로그의 항목에 20개가 넘는 기능을 할당할 수 있으나 순위 작성을 수행해야 하며 순위가 높은 기능만 선택합니다. (순위가 2.0 이상인 기능이 실제로 사용하기 좋은 기능입니다!).


###기능은 실제로 언제 사용되나요?

기능은 트랜잭션 정보만으로 권장 사항을 제공하기에 트랜잭션 데이터가 충분하지 않을 때 모델에 의해 사용됩니다. 따라서 기능은 트랜잭션이 적은 항목인 "콜드 항목"에 큰 영향을 줍니다. 모든 항목에 충분한 트랜잭션 정보가 있는 경우 기능으로 모델을 보강할 필요가 없습니다.


###제품 기능 사용

빌드의 일부로 기능을 사용하려면 다음을 수행해야 합니다.

1. 카탈로그를 업로드하는 경우 기능이 있는지 확인합니다.

2. 순위 작성을 트리거합니다. 그렇게 하면 기능의 중요성/순위에 대한 분석을 수행합니다.

3. 권장 사항 작성을 트리거하면 다음 작성 매개 변수를 설정합니다. useFeaturesInModel을 true로 설정하고 allowColdItemPlacement를 true로 설정하고 modelingFeatureList는 모델을 강화하기 위해 사용하려는 쉼표로 구분된 기능 목록으로 설정해야 합니다. 자세한 내용은 [권장 사항 작성 형식 매개 변수](https://westus.dev.cognitive.microsoft.com/docs/services/Recommendations.V4.0/operations/56f30d77eda5650db055a3d0)를 참조하세요.





## 사용 데이터 ##
사용 파일에는 해당 항목을 사용하는 방법 또는 비즈니스에서 트랜잭션에 대한 정보가 있습니다.

#### 사용 형식 세부 정보
사용 파일은 사용 파일의 각 행이 사용자와 항목 간에 상호 작용을 나타내는 CSV(쉼표로 구분된 값) 파일입니다. 각 행은 다음과 같이 형식이 지정됩니다.<br> `<User Id>,<Item Id>,<Time>,[<Event>]`



| 이름 | 필수 | 형식 | 설명
|-------|------------|------|---------------
|User Id| 예|[A-z], [a-z], [0-9], [\_] &#40;밑줄&#41;, [-] &#40;대시&#41;<br> 최대 길이: 255 |사용자의 고유 식별자입니다.
|항목 ID|예|[A-z], [a-z], [0-9], [&#95;] &#40;밑줄&#41;, [-] &#40;대시&#41;<br> 최대 길이: 50|항목의 고유 식별자
|Time|예|날짜(형식): YYYY/MM/DDTHH:MM:SS(예: 2013/06/20T10:00:00)|데이터의 시간입니다.
|이벤트|아니요 | 다음 중 하나입니다.<br>• Click<br>• RecommendationClick<br>• AddShopCart<br>• RemoveShopCart<br>• Purchase| 트랜잭션 형식입니다. |

#### 사용 파일의 샘플 행

    00037FFEA61FCA16,288186200,2015/08/04T11:02:52,Purchase
    0003BFFDD4C2148C,297833400,2015/08/04T11:02:50,Purchase
    0003BFFDD4C2118D,297833300,2015/08/04T11:02:40,Purchase
    00030000D16C4237,297833300,2015/08/04T11:02:37,Purchase
    0003BFFDD4C20B63,297833400,2015/08/04T11:02:12,Purchase
    00037FFEC8567FB8,297833400,2015/08/04T11:02:04,Purchase

#### 사용 파일 업로드

사용 파일을 업로드하는 방법은 [API 참조](https://westus.dev.cognitive.microsoft.com/docs/services/Recommendations.V4.0/operations/56f316efeda5650db055a3e2)를 살펴봅니다. 사용 파일의 내용을 HTTP 호출의 본문으로 전달해야 합니다.

>  참고:

>  최대 파일 크기 200MB 몇 가지 사용 파일을 업로드할 수 있습니다.

>  모델에 사용 데이터를 추가하기 전에 카탈로그 파일을 업로드해야 합니다. 교육 단계 중에서 카탈로그 파일의 항목만 사용됩니다. 다른 모든 항목은 무시됩니다.

## 얼마나 많은 데이터가 필요합니까?

모델의 품질은 데이터의 품질과 수량에 따라 크게 달라 집니다. 이 시스템은 사용자가 다양한 항목을 구매할 때 학습합니다(이것이 동시 발생입니다). FBT 작성의 경우 동일한 트랜잭션에서 어떤 항목이 구매되는지도 알아야 합니다.

그간의 경험에 따르면 대부분의 항목이 20개 이상의 트랜잭션에 포함되는 것이 좋습니다. 예를 들어 카탈로그에 10,000개의 항목이 있다면 그보다 20배 많은 트랜잭션, 다시 말해서 약 200,000 트랜잭션이 있는 것이 좋습니다. 다시 말씀 드리지만, 이는 경험에 근거하였습니다. 각자 본인의 데이터로 실험이 필요합니다.

모델을 만든 후에 [오프라인 평가](cognitive-services-recommendations-buildtypes.md)를 수행하여 모델의 성능이 얼마나 좋은지 확인할 수 있습니다.

<!---HONumber=AcomDC_0914_2016-->