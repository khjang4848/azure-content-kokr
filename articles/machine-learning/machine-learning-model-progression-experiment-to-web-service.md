<properties
	pageTitle="실험에서 조작 가능한 웹 서비스까지 기계 학습 모델 진행 과정 | Microsoft Azure"
	description="개발 실험에서 조작 가능한 웹 서비스까지 Azure 기계 학습 모델의 진행 과정에 대한 메커니즘을 간략히 살펴봅니다."
	services="machine-learning"
	documentationCenter=""
	authors="garyericson"
	manager="jhubbard"
	editor="cgronlun"/>

<tags
	ms.service="machine-learning"
	ms.workload="data-services"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="07/06/2016"
	ms.author="garye"/>


# 실험에서 조작 가능한 웹 서비스까지 기계 학습 모델 진행 과정

***실험***은 예측 분석 모델을 만드는 과정에서 대화형으로 개발, 실행, 테스트 및 반복할 수 있는 Azure 기계 학습 스튜디오의 캔버스입니다. 다양한 모듈을 통해 데이터를 실험 단계로 가져오고 데이터를 조작하며 기계 학습 알고리즘을 사용하여 모델을 학습하고 모델 점수를 매기며 결과를 평가하고 최종 값을 출력할 수 있습니다.

실험에 만족했으면 ***기존 Azure 웹 서비스*** 또는 ***새 Azure 웹 서비스***로 배포하여 사용자가 새 데이터를 전송하고 다시 결과를 받을 수 있도록 할 수 있습니다.

이 문서에서는 개발 실험에서 조작 가능한 웹 서비스까지 기계 학습 모델의 진행 과정에 대한 메커니즘을 간략히 살펴봅니다.

>[AZURE.NOTE] 다른 방법으로도 기계 학습 모델을 개발 및 배포할 수 있지만 이 문서에서는 기계 학습 스튜디오를 사용하는 방법을 중점적으로 설명합니다. R로 기존 예측 웹 서비스를 만드는 방법에 대한 내용은 블로그 게시물 [RStudio 및 Azure ML을 사용하여 예측 웹앱 빌드 및 배포](http://blogs.technet.com/b/machinelearning/archive/2015/09/25/build-and-deploy-a-predictive-web-app-using-rstudio-and-azure-ml.aspx)(영문)를 참조하세요.

Azure 기계 학습 스튜디오는 주로 *예측 분석 모델*을 개발 및 배포하는 것을 돕기 위해 설계되었지만 Studio를 사용하여 예측 분석 모델을 포함하지 않는 실험을 개발할 수 있습니다. 예를 들어 실험으로 단지 데이터를 입력 및 조작한 후 결과를 출력할 수 있습니다. 예측 분석 실험과 마찬가지로 이 비-예측 실험을 웹 서비스로 배포할 수 있지만 실험은 기계 학습 모델을 학습하거나 점수를 매기지 않으므로 보다 간단한 프로세스입니다. 이것은 Studio의 일반적인 사용이 아니며 Studio가 작동하는 방식에 대해 아래에서 자세히 설명하겠습니다.

## 예측 웹 서비스 개발 및 배포

다음은 일반적인 솔루션에서 기계 학습 스튜디오를 사용하여 개발 및 배포하는 데 따르는 단계입니다.

![](media\machine-learning-model-progression-experiment-to-web-service\model-stages-from-experiment-to-web-service.png)

*그림 1 - 일반적인 예측 분석 모델의 단계*

### 학습 실험

***학습 실험***은 기계 학습 스튜디오에서 초기 실험 캔버스입니다. 학습 실험의 목적은 기계 학습 모델을 개발, 테스트, 반복하고 최종적으로 학습할 장소를 제공하는 것입니다. 최적의 솔루션을 찾으면서 여러 모델을 동시에 학습할 수도 있으나 실험을 완료한 후에는 하나의 학습 모델을 선택하고 나머지 모델은 실험에서 제거합니다. 예측 분석 실험 개발의 예를 보려면 [Azure 기계 학습의 신용 위험 평가에 대한 예측 분석 솔루션 개발](machine-learning-walkthrough-develop-predictive-solution.md)을 참조하세요.

### 예측 실험

학습 실험에서 모델을 학습한 후 기계 학습 스튜디오에서 **웹 서비스 설정**을 클릭하면 Studio가 학습 실험을 ***예측 실험***으로 변환하는 프로세스를 안내합니다. 예측 실험의 목적은 학습 모델을 사용하여 새 데이터에 점수를 매기고 최종적으로는 Azure 웹 서비스로 조작 가능한 상태가 되도록 하는 것입니다.

이 변환은 다음 단계를 통해 수행됩니다.

-   학습에 사용되는 모듈 집합을 단일 모듈로 변환하고 학습 모델로 저장

-   점수 매기기와 관련이 없는 모든 불필요한 모듈 제거

-   최종 웹 서비스에서 사용할 입력 및 출력 포트 추가

예측 실험을 웹 서비스로 배포할 준비를 위해 더 많은 내용을 변경할 수 있습니다. 예를 들어, 웹 서비스가 결과의 하위 집합만 출력하도록 하려는 경우 출력 포트 이전에 필터링 모듈을 추가할 수 있습니다.

이 변환 프로세스에서는 학습 실험이 무시되지 않습니다. 프로세스가 완료되면 Studio에 두 개의 탭이 생깁니다. 하나는 학습 실험을 위한 것이고 하나는 예측 실험을 위한 것입니다. 이 방법으로 웹 서비스를 배포하기 전에 학습 실험을 변경하고 예측 실험을 다시 빌드할 수 있습니다. 또는 학습 실험의 복사본을 저장하고 실험의 다른 줄을 시작할 수 있습니다.

>[AZURE.NOTE] **웹 서비스 설정**을 클릭하면 학습 실험을 예측 실험으로 변환하는 자동 프로세스를 시작하고 대부분의 경우 잘 작동합니다. 하지만 학습 실험이 복잡한 경우(예를 들어 함께 결합할 학습에 대해 여러 경로가 있는 경우) 수동으로 변환하는 것을 선호할 수 있습니다. 이 변환 프로세스의 동작 방법에 대한 자세한 내용은 [기계 학습 실험을 예측 실험으로 변환](machine-learning-convert-training-experiment-to-scoring-experiment.md)을 참조하세요.

### 웹 서비스

예측 실험이 준비되면 서비스를 Azure Resource Manager에 기반한 기존 웹 서비스 또는 새 웹 서비스로 배포할 수 있습니다. 모델을 *기존 웹 서비스*로 배포하여 운영하려면 **웹 서비스 배포**를 클릭하고 **웹 서비스 배포[기존]**을 선택합니다. *새 웹 서비스*를 배포하려면 **웹 서비스 배포**를 클릭하고 **웹 서비스 배포[신규]**를 선택합니다. 이제 사용자가 웹 서비스 REST API를 사용하여 데이터를 모델로 전송하고 결과를 다시 받을 수 있습니다. 이를 수행하는 방법에 대한 자세한 내용은 [Azure 기계 학습 실험에서 배포된 기계 학습 웹 서비스를 사용하는 방법](machine-learning-consume-web-services.md)을 참조하세요.

웹 서비스를 배포했으면 예측 실험 및 웹 서비스가 연결된 상태로 유지되며 이들 사이를 자유롭게 이동할 수 있습니다.

| ***이 페이지에서...*** | ***다음 클릭하면...*** | ***이 페이지가 열림...*** |
| ------------------- | --------------- | ---------------------- |
|Studio에서 실험 캔버스|**웹 서비스로 이동**|Studio에서 웹 서비스 구성|
|Studio에서 웹 서비스 구성|**최신 버전 보기**|Studio에서 실험 캔버스|
|Studio에서 웹 서비스 구성(클래식 웹 서비스에만 사용)|**끝점 관리...**|Azure 클래식 포털에서 끝점 관리|
|Azure 클래식 포털에서 끝점 관리(클래식 웹 서비스에만 사용)|**Studio에서 편집**|Studio에서 실험 캔버스|

![](media\machine-learning-model-progression-experiment-to-web-service\connections-between-experiment-and-web-service.png)

*그림 2 - 실험 및 웹 서비스 간의 연결*

## 일반적이지 않은 경우: 비예측 웹 서비스 만들기

실험에서 예측 분석 모델을 학습하지 않은 경우 학습 실험 및 점수 매기기 실험을 모두 만들 필요가 없습니다. 하나의 실험만 있으며 이를 웹 서비스로 배포할 수 있습니다(기계 학습 스튜디오는 사용한 모델을 분석하여 실험에 예측 모델이 포함되어 있는지를 감지합니다).

실험을 반복한 후 만족한 경우:

1.  **웹 서비스 설정** 클릭 -입력 및 출력 노드가 자동으로 추가됨

2.  **실행** 클릭

3. 배포하려는 환경에 따라 **웹 서비스 배포**를 클릭하고 **웹 서비스 배포[기존]** 또는 **웹 서비스 배포[신규]**를 선택합니다.

이제 웹 서비스가 배포되고 예측 웹 서비스처럼 액세스 및 관리할 수 있습니다.

## 웹 서비스 단추

기계 학습 스튜디오에서 웹 서비스 단추 - **웹 서비스 설정** 및 **웹 서비스 배포** - 개발 프로세스에서 현재 위치에 따라 이름 및 기능을 변경합니다.

**예측 모델을 포함하는 실험**

실험에서 예측 모델을 학습하고 점수를 매기는 경우 웹 서비스 단추는 다음 기능을 수행합니다.

|**실험 유형**|**단추**|**수행하는 작업**|
| -------------------- | -------- | -------------- |
|개발 중인 실험|**웹 서비스 설정**|두 옵션 제공|
|&nbsp;|- **예측 웹 서비스**|실험을 학습 실험 및 점수 매기기 실험으로 변환|
|&nbsp;|- **재학습 웹 서비스**|실험을 재학습 실험으로 변환(아래 "업데이트" 섹션 참조)|
|학습 실험|**웹 서비스 설정**|두 옵션 제공|
|&nbsp;|- **예측 실험 업데이트**|연결된 예측 실험을 학습 실험에 변경된 내용으로 업데이트|
|&nbsp;|- **재학습 웹 서비스**|학습 실험을 재학습 실험으로 변환(아래 "업데이트" 섹션 참조)|
|&nbsp;|-*또는*- **웹 서비스 배포[기존]** |배포를 위해 재학습 실험을 설정한 경우 이를 기존 웹 서비스로 배포합니다.|
|&nbsp;|-*또는*- **웹 서비스 배포[신규]** |배포를 위해 재학습 실험을 설정한 경우 이를 새 웹 서비스로 배포합니다.|
|예측 실험|**웹 서비스 배포[기존]** |예측 실험을 기존 웹 서비스로 배포|
|예측 실험|**웹 서비스 배포[신규]** |예측 실험을 새 웹 서비스로 배포|

**실험은 예측 모델을 포함하지 *않음***

실험에서 예측 모델을 학습하고 점수를 매기지 않는 경우 웹 서비스 단추는 훨씬 간단합니다.

|**실험 유형**|**단추**|**수행하는 작업**|
| -------------------- | -------- | -------------- |
|개발 중인 실험|**웹 서비스 설정**|실험을 웹 서비스로 배포하기 위한 준비|
|배포를 위해 실험 준비됨|***웹 서비스 배포[기존]**|웹 서비스로 실험 배포, 기존 웹 서비스 구성 페이지 열기|
|&nbsp;|-*또는*- **웹 서비스 배포[신규]**| 새 웹 서비스로 배포|

## 웹 서비스 업데이트

이제 웹 서비스를 실험으로 배포했습니다. 업데이트해야 하는 경우 어떻게 하나요?

업데이트해야 하는 대상에 따라 다릅니다.

**입력 또는 출력을 변경하거나 웹 서비스에서 데이터를 조작하는 방법을 수정하려고 합니다.**

모델을 변경하지 않았지만 웹 서비스에서 데이터를 처리하는 방법을 변경하는 경우 예측 실험을 편집한 후 **웹 서비스 배포**를 클릭하고 다시 **웹 서비스 배포[기존]** 또는 **웹 서비스 배포[신규]**를 선택합니다. 웹 서비스가 중지되고 업데이트된 예측 실험이 배포되고 웹 서비스가 다시 시작됩니다.

다음 예제에서는 예측 실험이 예측된 결과와 함께 입력 데이터의 전체 행을 반환한다고 가정합니다. 웹 서비스에서 결과만 반환하도록 결정할 수 있습니다. 따라서 예측 실험에서 출력 포트 바로 앞에 **프로젝트 열** 모듈을 추가하여 결과 이외의 열을 제외할 수 있습니다. **웹 서비스 배포**를 클릭하고 **웹 서비스 배포[기존]** 또는 **웹 서비스 배포[신규]**를 선택하면 웹 서비스가 업데이트됩니다.

**새 데이터로 모델을 재학습하려고 합니다.**

기계 학습 모델을 유지하려고 하지만 새 데이터로 재학습하려는 경우 두 옵션이 있습니다.

1.  **웹 서비스가 실행되는 동안 모델 재학습** - 예측 웹 서비스가 실행되는 동안 모델을 재학습하려는 경우 학습 실험을 몇 차례 수정하여 ***재학습 실험***으로 만든 후 ***재학습 웹* 서비스**로 배포하여 이 작업을 수행할 수 있습니다. 이 작업을 수행하는 방법에 대한 자세한 내용은 [프로그래밍 방식으로 기계 학습 모델 다시 학습](machine-learning-retrain-models-programmatically.md)을 참조하세요.

2.  **원래 학습 실험으로 돌아가 다른 학습 데이터를 사용하여 모델 개발** - 예측 실험이 웹 서비스에 연결되지만 학습 실험은 이 방법으로 직접 연결되지 않습니다. 원래 학습 실험을 수정하고 **웹 서비스 설정**을 클릭하면 *새* 예측 실험이 만들어지고 배포되면 *새* 웹 서비스가 만들어집니다. 원래 웹 서비스는 업데이트되지 않습니다.

    따라서 학습 실험을 수정해야 하는 경우 실험을 열고 **다른 이름으로 저장**을 클릭하여 복사본을 만듭니다. 그러므로 원래 학습 실험, 예측 실험 및 웹 서비스가 그대로 유지됩니다. 이제 변경 내용을 포함하는 새 웹 서비스를 만들 수 있습니다. 새 웹 서비스를 배포한 후에는 이전 웹 서비스를 중지할지, 새 웹 서비스와 함께 실행하도록 유지할지 여부를 결정할 수 있습니다.

**다른 모델을 학습하려고 합니다.**

원래 예측 모델을 변경하고 다른 학습 방법 등을 시도해보려는 경우(예: 다른 기계 학습 알고리즘 선택) 모델 재학습을 위해 위에 설명된 두 번째 절차를 따라야 합니다. 학습 실험을 열고 **다른 이름으로 저장**을 클릭하여 복사본을 만든 후 모델 개발을 위한 새 경로를 시작하여 예측 실험을 만들고 웹 서비스를 배포합니다. 그러면 원래 웹 서비스와 관련이 없는 새 웹 서비스가 만들어지고 어떤 것을 사용할지, 둘 다 사용할지, 계속 실행된 상태를 유지할지 결정할 수 있습니다.

## 추가 참고 자료

이 프로세스에 대한 자세한 내용은 다음 문서를 참조하세요.

-   실험 변환 - [기계 학습 실험 실험에서 예측 실험으로 변환](machine-learning-convert-training-experiment-to-scoring-experiment.md)

-   웹 서비스 배포 - [Azure 기계 학습 웹 서비스 배포](machine-learning-publish-a-machine-learning-web-service.md)

-   모델 재학습 - [프로그래밍 방식으로 기계 학습 모델 다시 학습](machine-learning-retrain-models-programmatically.md)

전체 프로세스에 대한 예는 다음을 참조하세요.

-   [기계 학습 자습서: Azure 기계 학습 스튜디오에서 첫 번째 실험 만들기](machine-learning-create-experiment.md)

-   [연습: Azure 기계 학습의 신용 위험 평가에 대한 예측 분석 솔루션 개발](machine-learning-walkthrough-develop-predictive-solution.md)

<!---HONumber=AcomDC_0914_2016-->