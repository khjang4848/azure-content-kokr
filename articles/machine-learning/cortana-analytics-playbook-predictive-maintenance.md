<properties
	pageTitle="항공 우주 및 다른 비즈니스에서 예측 유지 관리를 위한 Cortana Intelligence 솔루션 템플릿 플레이 북 | Microsoft Azure"
	description="항공, 유틸리티 및 운송에서 예측 유지 관리를 위한 Microsoft Cortana Intelligence를 사용한 솔루션 템플릿입니다."
	services="cortana-analytics"
	documentationCenter=""
	authors="fboylu"
	manager="jhubbard"
	editor="cgronlun"/>

<tags
	ms.service="cortana-analytics"
	ms.workload="data-services"
	ms.tgt_pltfrm="na"
	ms.devlang="na"
	ms.topic="article"
	ms.date="09/12/2016"
	ms.author="fboylu" />

# 항공 우주 및 다른 비즈니스에서 예측 유지 관리를 위한 Cortana Intelligence 솔루션 템플릿 플레이 북

## 요약  
예측 유지 관리는 엄청난 비용 절감을 비롯한 확실한 이점을 제공하는 가장 까다로운 예측 분석 응용 프로그램 중 하나입니다. 이 플레이 북은 주요 사용 사례에 중점을 둔을 예측 유지 관리 솔루션을 위한 참조를 제공하려고 합니다. 독자가 예측 유지 관리의 가장 일반적인 비즈니스 시나리오, 이러한 솔루션에 대한 비즈니스 문제를 한정하는 과제, 이러한 비즈니스 문제를 해결하는 데 필요한 데이터, 샘플 솔루션 아키텍처와 함께 이러한 데이터 및 모범 사례를 사용하여 솔루션을 빌드하는 예측 모델링 기술에 대해 이해할 수 있도록 합니다. 또한 기능 엔지니어링, 모델 개발 및 성능 평가와 같은 개발된 예측 모델에 대해서도 설명합니다. 기본적으로 이 플레이 북은 예측 유지 관리 솔루션의 성공적인 개발 및 배포에 필요한 비즈니스 및 분석 지침을 함께 제공합니다. 이러한 지침을 통해 사용자는 장기 예측 유지 관리 전략의 시작점으로 Cortana Intelligence Suite와 특히, Azure Machine Learning을 사용하여 초기 솔루션을 만들 수 있습니다. Cortana Intelligence Suite 및 Azure 기계 학습 관련 설명서는 [Cortana 분석](http://www.microsoft.com/server-cloud/cortana-analytics-suite/overview.aspx) 및 [Azure 기계 학습](https://azure.microsoft.com/services/machine-learning/) 페이지에서 확인할 수 있습니다.

>[AZURE.TIP]
이 솔루션 템플릿 구현에 대한 기술 가이드는 [예측 유지 관리를 위한 Cortana Intelligence 솔루션 템플릿에 대한 기술 가이드](cortana-analytics-technical-guide-predictive-maintenance.md)를 참조하세요. 이 템플릿에 대한 아키텍처 개요를 제공하는 다이어그램을 다운로드하려면 [예측 유지 관리를 위한 Cortana Intelligence 솔루션 템플릿의 아키텍처](cortana-analytics-architecture-predictive-maintenance.md)를 참조하세요.

## 플레이 북 개요 및 대상 사용자  
이 플레이 북은 기술 및 일반 사용자 모두에게 예측 유지 관리 분야에 대한 기본적인 배경 지식과 관심사를 제공하기 위해 구성되었습니다. 다양한 유형의 예측 유지 관리 솔루션을 대략적으로 다루고 이를 구현하는 방법에 대해 상세히 설명합니다. 솔루션 분야 및 응용 프로그램 유형을 이해하는 데만 관심이 있는 사용자와 이러한 솔루션을 구현하는 방법을 찾고 있으며 따라서 기술적 세부 사항에 관심이 있는 사용자 모두를 위한 콘텐츠를 균형있게 다루고 있습니다.

이 플레이 북의 대부분의 콘텐츠는 사전 데이터 과학 지식 또는 전문 지식을 가정하지 않습니다. 그러나 플레이 북의 일부에서는 세부 정보를 구현하기 위해 데이터 과학 개념에 대한 사전 지식이 필요합니다. 해당 섹션의 자료를 최대한 활용하려면 기초 수준의 데이터 과학 기술이 필요합니다.

플레이 북의 전반부에서는 예측 유지 관리 응용 프로그램에 대해 소개하고 예측 유지 관리 솔루션을 한정하는 방법, 비즈니스 문제에 대한 세부 사항을 포함하는 일반적인 사용 사례 모음, 이러한 사용 사례와 관련된 데이터 및 이러한 예측 유지 관리 솔루션을 구현하면 얻게 되는 비즈니스 이점에 대해 다룹니다. 이 섹션에서는 예측 분석 도메인에 대한 기술적 지식이 필요하지 않습니다.

플레이 북의 후반부에서는 예측 유지 관리 응용 프로그램에 대한 예측 모델링 기술 유형과 플레이북의 전반부에서 설명한 사용 사례의 예제를 통해 이러한 모델을 구현하는 방법을 다룹니다. 데이터 레이블 지정 및 기능 엔지니어링, 모델 선택, 학습/테스트 및 성능 평가 모범 사례와 같은 데이터 전처리 단계를 진행하는 방식으로 설명합니다. 이러한 섹션은 기술 사용자에게 적합합니다.


## IoT에서 예측 유지 관리
예기치 않은 장비 가동 중지 시간은 비즈니스에 큰 위험을 야기할 수 있습니다. 비용 및 예기치 않은 가동 중지 시간을 최소화하여 사용량 및 성능을 최대화하고 현장 장비를 실행 상태로 유지하는 것이 중요합니다. 오늘날 비즈니스 작업 환경에서는 단지 오류가 발생하기를 기다려서는 안 됩니다. 기업이 경쟁력을 유지하려면 다양한 채널에서 수집한 데이터를 활용하여 자산 성능을 최대화할 새로운 방법을 모색합니다. 이러한 정보를 분석하는 중요한 방법 중 하나가 과거 패턴을 사용하여 미래 결과를 예측하는 예측 분석 기법을 활용하는 것입니다. 이러한 솔루션 중 가장 널리 사용되는 것 중 하나가 예측 유지 관리이며, 일반적으로 가까운 미래에 자산의 실패 가능성을 예측하는 것 이상의 기능으로 정의될 수 있으며 이 기술을 통해 자산을 사전에 모니터링하여 오류를 파악하고 오류가 발생하기 전에 조치할 수 있습니다. 이러한 솔루션은 오류 패턴을 감지하여 오류 위험이 가장 큰 자산을 결정합니다. 문제를 사전에 파악하므로 보다 비용 효율적인 방법으로 제한된 유지 관리 리소스를 배포하고 품질 및 공급망 프로세스를 개선할 수 있도록 합니다.

사물 인터넷(IoT) 응용 프로그램의 등장과, 모든 종류의 데이터를 배치 또는 실시간으로 생성, 전송, 저장 및 분석할 만큼 데이터 수집 및 처리 기술이 발전함에 따라 업계에서 예측 유지 관리가 주목 받기 시작했습니다. 이러한 기술을 통해 고급 분석 솔루션 및 분명히 가장 많은 이점을 제공하는 예측 유지 관리 솔루션과 함께 종단 간 솔루션을 쉽게 개발 및 배포할 수 있습니다.

예측 유지 관리 도메인의 비즈니스 문제는 예기치 못한 오류로 인한 운영상 높은 위험과 복잡한 비즈니스 환경에서 문제의 근본 원인에 대한 제한된 정보를 포함합니다. 이러한 문제의 대부분은 다음과 같은 비즈니스 질문에 따라 분류할 수 있습니다.

-   가까운 미래에 장비에 오류가 발생할 확률은 어떻게 되나요?
-   장비의 남은 가용 수명은 얼마나 됩니까?
-   오류의 원인이 무엇이고 이러한 문제를 수정하기 위해 어떤 유지 관리 작업을 수행해야 합니까?

예측 유지 관리를 활용하여 이러한 질문에 대한 답을 찾은 경우 다음과 같은 이점을 얻을 수 있습니다.

-   오류가 발생하기 전에 이를 발견하여 운영 위험을 줄이고 자산 수익률을 높일 수 있습니다.
-   불필요한 시간 기반 유지 관리 작업을 줄이고 유지 관리 비용을 제어할 수 있습니다.
-   전체 브랜드 이미지를 개선하고, 잘못된 광고와 이로 인한 고객 감소에 따른 매출 손실을 없앨 수 있습니다.
-   재주문 시점을 예측하여 재고 수준을 줄임으로써 재고 비용을 절감할 수 있습니다.
-   다양한 유지 관리 문제와 관련된 패턴을 파악할 수 있습니다.

예측 유지 관리 솔루션은 실시간으로 자산 상태를 모니터링하는 상태 점수, 자산의 남은 수명에 대한 예측, 사전 유지 관리 활동에 대한 권장 및 부품 교체를 위한 예상 주문 날짜와 같은 핵심 성과 지표를 비즈니스에 제공할 수 있습니다.

## 예측 유지 관리를 위한 자격 조건
예측 유지 관리를 통해 모든 사용 사례 또는 비즈니스 문제를 효과적으로 해결할 수 있는 것은 아니라는 점을 강조해야 합니다. 중요한 자격 조건에는 문제가 예측 가능한지, 오류가 사전에 감지된 경우 오류를 방지하기 위한 명백한 작업 경로가 존재하는지, 그리고 가장 중요한 것은 사용 사례를 지원할 만큼 충분한 품질의 데이터가 제공되는지 여부가 포함됩니다. 여기서는 성공적인 예측 유지 관리 솔루션을 빌드하기 위한 데이터 요구 사항을 중점적으로 다룹니다.

예측 모델을 빌드하는 경우 기록 데이터를 사용하여 모델을 학습하며, 이 모델을 통해 숨겨진 패턴을 인식하고 향후 데이터에서 이러한 패턴을 추가로 식별할 수 있습니다. 이러한 모델은 기능 및 예측의 대상으로 설명된 예제로 학습합니다. 학습된 모델은 새 예제의 기능을 확인하는 것만으로 대상에 대해 예측을 수행해야 합니다. 모델이 기능과 예측 대상 간의 관계를 포착하는 것이 중요합니다. 효과적인 기계 학습 모델을 학습하려면 실제로 예측 대상에 대한 예측 능력이 있는 기능을 포함하는 학습 데이터가 필요합니다. 즉, 데이터가 정확한 예측을 기대하는 예측 목표와 관련되어 있어야 합니다.

예를 들어 기차 바퀴의 오류를 예측하는 것이 목표인 경우 학습 데이터는 바퀴 관련 기능을 포함해야 합니다(예: 바퀴, 거리, 화물 중량 등의 상태를 반영하는 원격 분석). 그러나 기차 엔진 오류를 예측하는 것이 목표인 경우 아마도 엔진 관련 기능을 포함하는 다른 학습 데이터 집합이 필요할 것입니다. 예측 모델을 빌드하기 전에 비즈니스 전문가는 데이터 관련성 요구 사항을 이해하고 분석을 위해 관련 데이터 하위 집합을 선택하는 데 필요한 도메인 지식을 제공해야 합니다.

예측 유지 관리 솔루션에 맞게 비즈니스 문제를 한정할 때 확인할 세 가지 필수적인 데이터 원본이 있습니다.

1.  오류 기록: 일반적으로 예측 유지 관리 응용 프로그램에서 오류 이벤트는 매우 드뭅니다. 그러나 오류를 예측할 예측 모델을 빌드할 때는 학습 프로세스를 통해 알고리즘에서 일반적인 작업 패턴뿐만 아니라 오류 패턴도 학습해야 합니다. 따라서 이러한 두 가지 서로 다른 패턴을 학습하기 위해서는 학습 데이터에 두 범주에 대한 충분한 예제가 포함되어야 합니다. 이런 이유로 충분한 오류 이벤트가 포함된 데이터가 필요합니다. 오류 이벤트는 유지 관리 기록에서 확인할 수 있으며 부품 교체 기록 또는 학습 데이터의 이상을 도메인 전문가가 식별한 대로 오류로 사용할 수 있습니다.
2.  유지 관리/복구 기록: 예측 유지 관리 솔루션에 필수적인 데이터 원본은 교체된 구성 요소 및 수행된 예방 유지 관리 활동 등에 대한 정보가 포함된 자산의 자세한 유지 관리 기록입니다. 이러한 이벤트는 성능 저하 패턴에 영향을 주므로 캡처하는 것이 매우 중요하며 이러한 정보가 없는 경우 잘못된 결과가 발생합니다.
3.  기계 조건: 기계가 얼마 뒤(시간, 마일, 트랜잭션 등) 실패할지를 예측하려면 이 작업 중에 시간이 지남에 따라 기계의 상태가 나빠질 것이라고 가정합니다. 따라서 성능 저하를 일으키는 이상 상태 및 에이징 패턴을 캡처하는 시간에 따라 변화하는 기능이 데이터에 포함되도록 해야 합니다. IoT 응용 프로그램에서 다양한 센서의 원격 분석 데이터가 한 가지 좋은 예를 나타냅니다. 기계가 시간 프레임 내에 실패할지 예측하려면 이상적으로, 데이터에서 이 시간 프레임 중에 실제 오류 이벤트가 발생하기 전에 성능 저하 추세를 캡처해야 합니다.

또한 예측 대상 자산의 작동 상태와 직접 관련된 데이터가 필요합니다. 대상은 비즈니스 요구 사항 및 데이터 가용성 모두를 고려하여 결정합니다. 이에 대한 예로 기차 바퀴 오류를 예측한다면, "바퀴에 오류가 발생할 경우" 또는 "전체 기차에 오류가 발생할 경우"를 예측할 수 있습니다. 첫 번째 것은 보다 구체적인 구성 요소를 대상으로 하는 반면 두 번째 것은 기차의 오류를 대상으로 합니다. 두 번째 것은 첫 번째보다 훨씬 분산된 데이터 요소를 요구하는 보다 일반적인 질문이므로 모델을 빌드하기 더 어렵습니다. 반대로, 높은 수준에서 기차 상태 데이터를 살펴보는 것으로 바퀴 오류를 예측하려고 시도하는 것은 구성 요소 수준의 정보를 포함하지 않으므로 적절하지 않을 수 있습니다. 일반적으로 보다 일반적인 것보다는 구체적인 오류 이벤트를 예측하는 것이 보다 현명합니다.

오류 기록 데이터에 대한 일반적인 질문 중 하나는 "모델을 학습하는 데 오류 이벤트가 얼마나 필요하며 어느 정도 고려하는 것이 "충분"한가?입니다. 수많은 예측 분석 시나리오가 있으므로 이 질문에 대한 정답은 없지만 일반적으로 허용 가능한 항목을 결정하는 요소는 데이터 품질입니다. 데이터 집합이 오류 예측과 관련된 기능을 포함하지 않는 경우 많은 오류 이벤트가 있더라도 적절한 모델을 빌드하는 것이 불가능할 수 있습니다. 그러나 경험상 오류 이벤트가 많을수록 더 나은 모델을 얻을 수 있으며 필요한 오류 예제 수에 대한 대략적인 예상 값은 상황과 데이터에 따라 크게 달라집니다. 이 문제는 불균형 데이터 집합 처리에 대한 섹션에서 설명합니다. 이 섹션에서는 충분한 오류가 없는 문제를 극복하는 방법을 제안합니다.

## 샘플 사용 사례
이 섹션에서는 항공, 공공 시설 및 운송 같은 여러 산업의 예측 유지 관리 사용 사례 모음에 대해 중점적으로 다룹니다. 각 하위 섹션에서는 이러한 영역에서 수집한 사용 사례를 드릴하고 비즈니스 문제, 비즈니스 문제와 관련된 데이터 및 예측 유지 관리 솔루션의 이점을 설명합니다.

### 항공
#### 사용 사례 1: 비행 지연 및 취소
##### *비즈니스 문제 및 데이터 원본*
항공사에서 직면하는 주요 비즈니스 문제 중 하나는 기계적인 문제로 인해 비행이 지연됨으로써 발생하는 상당한 비용입니다. 기계적 오류를 복구할 수 없는 경우 항공편이 취소될 수도 있습니다. 지연으로 인해 일정 및 운항에 문제가 생기며, 평판이 나빠지고 고객 불만을 유도함으로써 기타 여러 문제와 함께 상당한 비용을 초래합니다. 항공사는 이러한 기계적 오류를 사전에 예측하여 비행 지연 또는 취소를 줄이는 데 특히 주의를 기울입니다. 이러한 경우 예측 유지 관리 솔루션의 목표는 유지 관리 기록 및 비행 경로 정보 등의 관련 데이터 원본을 기반으로 항공기가 지연되거나 취소될 확률을 예측하는 것입니다. 이 사용 사례에 대한 두 가지 주요 데이터 원본은 비행 구간 및 페이지 로그입니다. 비행 구간 데이터에는 출발/도착 날짜 및 시간, 출발 및 도착 공항 등 비행 경로 정보에 대한 데이터가 포함됩니다. 페이지 로그 데이터에는 유지 관리 담당자가 기록한 일련의 오류 및 유지 관리 코드가 포함됩니다.

##### *예측 모델의 비즈니스 가치*
제공되는 기록 데이터와 다중 분류 알고리즘을 사용하여 예측 모델을 구축하여 다음 24시간 이내 지연 또는 취소를 일으킬 기계적 문제 유형을 예측합니다. 이러한 예측으로 필요한 유지 관리 작업을 수행하여 항공기에 서비스가 제공되는 동안 위험을 완화할 수 있으므로 가능한 지연 또는 취소를 방지합니다. Azure 기계 학습 웹 서비스를 사용하면 이 예측 모델을 항공사의 기존 운영 플랫폼에 쉽고 원활하게 통합할 수 있습니다.

#### 사용 사례 2: 항공기 구성 요소 오류
##### *비즈니스 문제 및 데이터 원본*
항공기 엔진은 매우 민감하고 고가의 장비 부분이며 엔진 부품 교체는 항공사 업계에서 가장 일반적인 유지 관리 작업 중 하나입니다. 항공사를 위한 유지 관리 솔루션에서는 구성 요소 재고, 배달 및 계획에 신중한 관리가 요구됩니다. 구성 요소의 안정성에 대한 인텔리전스를 수집할 수 있다면 투자 비용을 상당히 절감하게 될 것입니다. 이 사용 사례에 대한 주요 데이터 원본은 항공기의 상태에 대한 정보를 제공하는 항공기의 여러 센서에서 수집한 원격 분석 데이터입니다. 또한 유지 관리 레코드도 구성 요소 오류가 발생했는지 및 교체가 이루어졌는지 식별하는 데 사용됩니다.

##### 예측 모델의 비즈니스 가치
다중 클래스 분류 모델은 다음 달 내에 특정 구성 요소로 인해 오류가 발생할 확률을 예측하도록 빌드됩니다. 이러한 솔루션을 도입하여 항공사는 구성 요소 복구 비용을 절감하고 구성 요소 재고를 개선하며 관련 자산의 재고 수준을 줄이고 유지 관리 계획을 개선할 수 있습니다.

### 공공 시설
#### 사용 사례 1: ATM 현금 지급 오류
##### *비즈니스 문제 및 데이터 원본*
자산 집약적 산업의 운영진은 보통 자신의 비즈니스에서 운영상의 주된 위험은 자산에 대한 예기치 않은 오류라고 말합니다. 예를 들어, 은행 산업에서 ATM과 같은 지급기의 오류는 매우 빈번하게 발생하는 일반적인 문제입니다. 이러한 유형의 문제에 대해서는 이와 같은 기계의 운영자를 위한 예측 유지 관리 솔루션이 더욱 절실합니다. 이 사용 사례에서 예측 문제는 용지 걸림이나 부품 오류와 같은 현금 지급기의 오류로 인해 ATM 현금 인출 트랜잭션이 중단될 확률을 계산하는 것입니다. 이 경우에 대한 주요 데이터 원본은 입출금 기록이 제공되는 동안 측정값을 수집하는 센서 판독값과 시간별로 수집된 유지 관리 레코드입니다. 센서 데이터에는 완료된 각 트랜잭션별 센서 판독값과 제공된 각 입출금 기록별 센서 판독값이 포함됩니다. 센서 판독값은 입출금 기록 간 간격, 두께, 기록 도달 거리 등에 대한 측정값을 제공합니다. 유지 관리 데이터는 오류 코드 및 복구 정보를 포함합니다. 이러한 정보가 오류 사례를 식별하는 데 사용됩니다.

##### *예측 모델의 비즈니스 가치*
현금 인출 트랜잭션의 오류와 트랜잭션 중에 제공된 개별 입출금 기록의 오류를 예측하는 두 예측 모델이 빌드됩니다. 트랜잭션 오류를 사전에 예측할 수 있다면 사전에 오류 발생을 차단하고 ATM 서비스를 제공할 수 있습니다. 또한 입출금 기록 오류 예측에서 입출금 기록 제공 오류로 인해 트랜잭션이 완료되기 전에 실패할 가능성이 있는 경우 오류가 발생한 후 유지 관리 서비스를 기다리기보다는 프로세스를 중지하고 고객에게 불완전 트랜잭션을 경고하는 것이 적절할 수 있습니다. 오류가 발생한 후에는 고객 불만이 더욱 커질 수 있기 때문입니다.

#### 사용 사례 2: 풍력 터빈 오류
##### *비즈니스 문제 및 데이터 원본*
환경에 대한 인식이 강화됨에 따라 풍력 터빈이 주요 에너지원이 되고 있으며 일반적으로 수백만 달러의 비용이 소요됩니다. 풍력 터빈의 주요 구성 요소 중 하나는 터빈 조건 및 상태를 모니터하는 여러 센서가 장착된 발전기 모터입니다. 센서 판독값에는 풍력 터빈 구성 요소에 대한 오류 평균 시간 등 중요한 핵심 성과 지표(KPI)를 예측하는 예측 모델을 빌드하는 데 사용할 수 있는 중요한 정보가 포함됩니다. 이 사용 사례에 대한 데이터는 3개의 서로 다른 팜 위치에 있는 여러 풍력 터빈에서 가져옵니다. 각 터빈의 100개 센서 가까이의 측정값은 1년 동안 10초 단위로 기록됩니다. 이러한 판독값에는 온도, 발전기 속도, 터빈 능력 및 발전기 권선과 같은 측정값이 포함됩니다.

##### *예측 모델의 비즈니스 가치*
발전기 및 온도 센서에 대한 남은 가용 수명을 예측하는 예측 모델이 빌드됩니다. 오류 확률을 예측하므로 유지 관리 기술자는 곧 실패할 가능성이 있는 의심스러운 터빈에 집중하여 시간 기반 유지 관리 체제를 보완할 수 있습니다. 또한 예측 모델을 통해 오류 확률에 대한 다양한 요인에 대한 기여도를 파악할 수 있으므로 문제의 근본 원인을 보다 잘 이해할 수 있습니다.

#### 사용 사례 3: 회로 차단기 오류
##### *비즈니스 문제 및 데이터 원본*
전기 에너지의 발전, 분배 및 판매를 포함하는 전기 및 가스 작업에는 가정까지 에너지가 전달되도록 보장해야 하므로 항상 전력 선이 작동해야 하는 상당한 유지 관리가 필요합니다. 이러한 작업에 오류가 생길 경우 해당 지역에서 거의 모든 주체가 전력 문제로 영향을 받게 되므로 중요합니다. 이러한 작업에서 회로 차단기는 문제 또는 누전이 있는 경우 전류를 차단하여 전력 선에 손상이 발생하지 않도록 하는 중요한 장비 부품입니다. 이 사용 사례에 대한 비즈니스 문제는 주어진 유지 관리 로그, 명령 기록 및 기술적 사양으로 회로 차단기 오류를 예측하는 것입니다.

이 사례에 대한 3가지 주요 데이터 원본은 시정, 예방적 및 체계적 작업을 포함하는 유지 관리 로그, 개폐 작업을 위해 회로 차단기에 전송할 자동 및 수동 명령을 포함하는 운영 데이터, 제작 연도, 위치 모델 등 각 회로 차단기의 속성에 대한 기술적 사양 데이터입니다.

##### *예측 모델의 비즈니스 가치*
예측 유지 관리 솔루션으로 복구 비용을 줄이고 회로 차단기와 같은 장비의 수명을 연장할 수 있습니다. 또한 이러한 모델은 사전에 경고를 제공하여 예기치 못한 오류를 줄이고 서비스 중단을 감소시켜 전력 네트워크 품질을 개선합니다.

#### 사용 사례 4: 엘리베이터 도어 오류
##### *비즈니스 문제 및 데이터 원본*
일반적으로 대부분의 대규모 엘리베이터 회사는 전 세계에 수백만 대의 엘리베이터를 보유하고 있습니다. 이들은 경쟁력을 확보하기 위해 고객이 가장 중요 시하는 안정성에 집중하고 있습니다. 사물 인터넷을 토대로 엘리베이터를 클라우드에 연결하고 엘리베이터 센서 및 시스템에서 데이터를 수집하여 데이터를 유용한 비즈니스 인텔리전스로 변환하고 경쟁업체와 차별화된 예측 및 예방적 유지 관리를 제공하여 작업을 크게 향상시킬 수 있습니다. 이 사례에 대한 비즈니스 요구 사항은 도어 오류의 잠재적인 원인을 예측할 기술 자료 예측 응용 프로그램을 제공하는 것입니다. 구현을 위해 필요한 데이터는 3부분으로 구성됩니다. 엘리베이터 정적 기능(예: 식별자, 계약 유지 관리 빈도, 건물 유형 등), 사용 정보(예: 도어 주기 횟수, 평균 도어 닫기 시간 등), 오류 기록(예: 과거 오류 레코드 및 해당 원인)입니다.

정적 기능 및 사용 데이터를 기능으로 통합하고, 과거 오류 레코드를 클래스 레이블로 포함하여 Azure 기계 학습을 통해 다중 클래스 로지스틱 회귀 모델을 빌드하여 예측 문제를 해결합니다. 이 예측 모델은 모바일 장치의 앱에 적용되어 현장 기술자의 업무 효율성을 개선합니다. 기술자가 엘리베이터 수리를 위해 현장에 있는 경우 이 앱을 참조하여 권장되는 원인과 엘리베이터 수리를 위해 가장 적절한 유지 관리 작업을 가능한 신속하게 찾아낼 수 있습니다.

### 운송 및 물류
#### 사용 사례 1: 브레이크 디스크 오류
##### *비즈니스 문제 및 데이터 원본*
자동차에 대한 일반적인 유지 관리 정책에는 시정 및 예방적 유지 관리가 포함됩니다. 시정 유지 관리는 오류가 발생한 후 자동차를 수리하는 것을 포함하며 예기치 않은 오작동과 정비공 방문 시 시간 소비로 인해 운전자에게 심한 불편을 초래할 수 있습니다. 대부분의 자동차는 예방적 유지 관리 정책을 따릅니다. 예방적 유지 관리 정책에서는 자동차 하위 시스템의 실제 상태는 고려하지 않고 일정에 따라 특정 검사를 수행해야 합니다. 이 두 방법으로 문제가 완전히 제거되지는 않습니다. 여기에 특정 사용 사례는 과거 운전 패턴 및 자동차가 노출된 기타 조건을 추적하는 자동차의 타이어 시스템에 설치된 센서를 통해 수집된 데이터를 기반으로 한 브레이크 디스크 오류 예측입니다. 이 사례의 가장 중요한 데이터 원본은 가속, 브레이크 패턴, 주행 거리, 속도 등을 측정하는 센서 데이터입니다. 이 정보는 자동차 기능과 같은 기타 정적 정보와 함께 예측 모델에 사용할 수 있는 적절한 예측 변수 집합을 빌드하는 데 도움이 됩니다. 또 다른 중요한 정보 집합은 부품 주문 데이터베이스(대리점에서 자동차 서비스 시 예비 부품 주문 날짜 및 수량 유지에 사용됨)에서 유추되는 오류 데이터입니다.

##### *예측 모델의 비즈니스 가치*
이 예측 방법의 비즈니스 가치는 상당합니다. 예측 유지 관리 시스템은 예측 모델을 토대로 대리점 방문 일정을 예약할 수 있습니다. 모델은 자동차 및 주행 기록의 현재 상태를 나타내는 센서 정보를 토대로 할 수 있습니다. 이 방법은 다음 정기 유지 관리 시점 전에도 발생할 수 있는 예기치 않은 오류의 위험을 최소화할 수 있습니다. 또한 불필요한 예방적 유지 관리 작업의 양을 줄일 수 있습니다. 운전자는 몇 주 이내에 필요할 수 있는 부품 변경에 대한 정보를 사전에 받을 수 있으며 해당 정보를 대리점에도 제공합니다. 그러면 대리점은 해당 운전자를 위한 개별 유지 관리 패키지를 사전에 준비할 수 있습니다.

#### 사용 사례 2: 지하철 도어 오류
##### *비즈니스 문제 및 데이터 원본*
지하철 운행 시 지연 및 문제의 주된 원인 중 하나는 기차의 도어 오류입니다. 기차에 도어 오류가 있는지 예측하거나, 며칠 후 다음 도어 오류가 발생할지 예측하는 것은 매우 중요한 예지 능력입니다. 이 능력은 기차 도어 서비스를 최적화하고 기차의 가동 중지 시간을 줄일 수 있는 기회를 제공합니다.

#### 데이터 원본

이 사용 사례에서 세 가지 데이터 원본은 다음과 같습니다.

- **학습 이벤트 데이터** - 학습 이벤트의 기록 레코드
- **유지 관리 데이터** - 유지 관리 유형, 작업 순서 유형 및 우선 순위 코드 등
- **오류 레코드**

##### *예측 모델의 비즈니스 가치*
이진 분류를 사용하여 익일 오류 확률을 예측하고 회귀를 사용하여 며칠 후 오류가 발생하는지를 예측하는 두 모델이 빌드됩니다. 이전 사례와 마찬가지로, 모델은 서비스 품질을 개선할 수 있는 상당한 기회를 만들고 정기적인 유지 관리 체제를 보완하여 고객 만족도를 높입니다.

## 데이터 준비
### 데이터 원본
예측 유지 관리 문제의 공통 데이터 요소는 다음과 같이 요약될 수 있습니다.

-   오류 기록: 컴퓨터 또는 컴퓨터 내 구성 요소의 오류 기록
-   유지 관리 기록: 컴퓨터의 수리 기록(예: 오류 코드, 이전 유지 관리 작업 또는 구성 요소 교체)
-   컴퓨터 상태 및 사용: 컴퓨터의 작동 상태(예: 센서에서 수집되는 데이터)
-   컴퓨터 특성: 컴퓨터의 특성(예: 엔진 크기, 제조사 및 모델, 위치)
-   운영자 특성: 운영자의 특성(예: 성별, 과거 경험)

이것은 일반적으로 특수한 오류 코드 또는 예비 부품의 주문 날짜와 같은 형태로 오류 기록이 유지 관리 기록에 포함되는 경우 가능합니다. 이러한 경우 유지 관리 데이터에서 오류를 추출할 수 있습니다. 또한 다양한 비즈니스 도메인에 여기에는 자세히 나열되지 않은 오류 패턴에 영향을 주는 다양한 기타 데이터 원본이 있을 수 있습니다. 이러한 데이터 원본은 예측 모델을 빌드할 때 도메인 전문가와 상의하여 식별합니다.

사용 사례에서 위의 데이터 요소에 대한 몇 가지 예는 다음과 같습니다.

오류 기록: 항공편 지연 날짜, 항공기 구성 요소 오류 날짜 및 유형, ATM 현금 인출 트랜잭션 오류, 기차/엘리베이터 도어 오류, 브레이크 디스크 교체 주문 날짜, 풍력 터빈 오류 날짜 및 회로 차단기 명령 오류.

유지 관리 기록: 항공편 오류 로그, ATM 트랜잭션 오류 로그, 기차 유지 관리 레코드(유지 관리 유형, 간략한 설명 등 포함), 회로 차단기 유지 관리 레코드.

기계 상태 및 사용: 비행 경로 및 시간, 항공기 엔진에서 수집된 센서 데이터, ATM 거리 시 센서 판독값, 기차 이벤트 데이터, 풍력 터빈, 엘리베이터 및 연결된 자동차의 센서 판독값.

기계 기능: 회로 차단기 기술적 사양(예: 전압 수준), 지리적 위치 또는 자동차 기능(예: 제조, 모델, 엔진 크기, 타이어 종류, 생산 시설 등).

위의 데이터 원본을 고려할 때, 예측 유지 관리 도메인에서 임시 데이터와 정적 데이터라는 두 가지 주요 데이터 유형을 확인할 수 있습니다. 오류 기록, 기계 상태, 복구 기록, 사용 기록에는 각 데이터 부분의 수집 시간을 나타내는 타임 스탬프가 거의 항상, 함께 제공됩니다. 일반적으로 기계 기능 및 운영자 기능은 기계 또는 운영자 속성의 기술적 사용을 설명하므로 정적입니다. 시간이 지남에 따라 해당 기능이 변경될 수 있으며 변경된 경우 타임 스탬프가 지정된 데이터 원본으로 처리됩니다.

### 데이터 원본 병합

모든 유형의 기능 엔지니어링 또는 레이블 지정 프로세스를 진행하기 전에 먼저 기능을 만드는 데 필요한 형태로 데이터를 준비해야 합니다. 궁극적인 목적은 기계 학습 알고리즘에 공급할 기능 및 레이블을 사용하여 각 자산에 대한 각 시간 단위의 레코드를 생성하는 것입니다. 정리된 최종 데이터 집합을 준비하기 위해 몇 가지 전처리 단계를 수행해야 합니다. 첫 번째 단계는 각 레코드가 자산의 시간 단위에 속하는 시간 단위로 데이터 수집 기간을 나누는 것입니다. 데이터 수집을 작업과 같은 다른 단위로 나눌 수도 있지만 간단한 설명을 위해 시간 단위를 사용하기로 합니다.

시간에 대한 측정 단위는 데이터 준비 효율성에 따라 초, 분, 시간, 일, 월, 주기, 마일 또는 트랜잭션일 수 있으며 시간 단위 변화에 따른 자산 상태의 변화또는 기타 요소는 도메인에 한정됩니다. 즉, 많은 경우 데이터는 단위 변화에 따른 차이를 보이지 않으므로 시간 단위는 데이터 수집 빈도와 같지 않아도 됩니다. 예를 들어 온도 값을 10초마다 수집하는 경우 전체 분석에서 10초의 시간 단위를 선택하면 예제 수는 증가하지만 추가 정보는 제공하지 않습니다. 예를 들어 시간당 평균을 사용하는 것이 더 나은 전략입니다.

가능한 데이터 원본에 대한 일반적인 데이터 스키마 예제는 앞에서 설명했습니다.

유지 관리 레코드: 수행된 유지 관리 작업의 레코드입니다. 일반적으로 원시 유지 관리 데이터는 해당 시점에 수행된 유지 관리 작업에 대한 정보와 자산 ID 및 타임 스탬프가 함께 제공됩니다. 이러한 원시 데이터의 경우 유지 관리 작업을 유지 관리 작업 유형에 해당하는 각 범주에 대한 범주 열로 변환해야 합니다. 유지 관리 레코드에 대한 기본 데이터 스키마는 자산 ID, 시간 및 유지 관리 작업 열을 포함합니다.

오류 레코드: 예측 대상에 속하는 레코드로, 오류 또는 오류 원인이라고 합니다. 특정 비즈니스 상태로 정의되는 특정 오류 코드 또는 오류 이벤트일 수 있습니다. 경우에 따라 데이터는 관련 오류에 해당하는 여러 오류 코드를 포함합니다. 모든 오류가 예측의 대상은 아니므로 일반적으로 오류와 연관될 수 있는 기능을 생성하는 데 기타 오류가 사용됩니다. 오류 레코드에 대한 기본 데이터 스키마는 자산 ID, 시간 및 오류 또는 오류 원인 열(원인이 제공되는 경우)을 포함합니다.

기계 상태: 가급적이면 데이터의 작동 상태에 대한 실시간 모니터링 데이터입니다. 예를 들어 도어 오류의 경우 도어 개폐 시간이 도어의 현재 상태에 대한 적절한 지표입니다. 기계 상태에 대한 기본 데이터 스키마는 자산 ID, 시간 및 조건 값 열을 포함합니다.

기계 및 운영자 데이터: 기계 및 운영자 데이터는 하나의 스키마로 병합하여 자산 및 운영자 속성과 함께 어떤 자산이 어떤 운영자에 의해 운영되는지를 파악할 수 있습니다. 예를 들어 자동차는 일반적으로 연령, 주행 경험 등과 같은 특성을 가진 운전자에 의해 소유됩니다. 시간에 따라 데이터가 변경되는 경우 이 데이터는 시간 열을 포함하며 기능 생성 시 시간에 따라 변하는 데이터로 처리됩니다. 기계 상태에 대한 기본 데이터 스키마는 자산 ID, 자산 기능, 운영자 ID 및 운영자 기능을 포함합니다.

레이블 지정 및 기능 생성 이전에 기계 상태 테이블을 자산 ID 및 시간 필드에서 오류 레코드와 왼쪽 조인하여 최종 테이블을 생성할 수 있습니다. 그런 다음 자산 ID 및 시간 필드에서 이 테이블을 유지 관리 레코드와 조인할 수 있으며 마지막으로 자산 ID에서 기계 및 운영자 기능과 조인할 수 있습니다. 처음 왼쪽 조인 시 기계가 정상 작동 상태일 때 오류 열에 null 값을 유지하며 정상적인 작동 상태에 대한 지표 값으로 귀속될 수 있습니다. 이 오류 열은 예측 모델에 대한 레이블을 만드는 데 사용됩니다.

### 기능 엔지니어링
모델링의 첫 번째 단계는 기능 엔지니어링입니다. 기능 생성의 원리는 해당 시점까지 수집된 기록 데이터를 사용하여 주어진 시간에서 기계의 상태를 개념적으로 설명하고 추상화하는 것입니다. 다음 섹션에서는 예측 유지 관리에 사용할 수 있는 기술 유형에 대한 개요를 제공하고 각 기술에 대해 어떻게 레이블을 지정할지에 대해 설명합니다. 사용할 정확한 기술은 데이터 및 비즈니스 문제에 따라 달라집니다. 그러나 아래에서 설명하는 기능 엔지니어링 방법을 기능 만들기를 위한 기초로 사용할 수 있습니다. 아래에서는 타임 스탬프와 함께 제공되는 데이터 원본에서 생성할 지연 기능과 정적 데이터 원본에서 생성된 정적 기능을 설명하고 사용 사례에 따른 예제를 제공합니다.

#### 지연 기능
앞서 설명한 바와 같이 예측 유지 관리에서 기록 데이터는 일반적으로 각 데이터 부분의 수집 시간을 나타내는 타임 스탬프와 함께 제공됩니다. 여러 가지 방법으로 타임 스탬프가 지정된 데이터와 함께 제공되는 데이터에서 기능을 만들 수 있습니다. 이 섹션에서는 예측 유지 관리에 사용되는 이러한 방법 중 몇 가지를 설명합니다. 또한 이러한 방법 이외의 내용도 다룹니다. 기능 엔지니어링은 예측 모델링에서 가장 창의적인 분야 중 하나로 간주되므로 다양한 방법으로 기능을 만들 수 있습니다. 다음은 몇 가지 일반적인 기술입니다.

##### *롤링 집계*
자산의 각 레코드에 대해 기록 집계를 계산할 시간 단위 수인 "W" 크기의 롤링 기간을 선택합니다. 그런 다음 해당 레코드 날짜 이전에 W 기간을 사용하여 롤링 집계 기능을 계산합니다. 롤링 집계에 대한 예는 롤링 카운트, 평균, 표준 편차, 표준 편차 기반 이상치, CUSUM 측정값, 해당 기간에 대한 최소 및 최대값일 수 있습니다. 다른 흥미로운 기술은 이상 감지 알고리즘을 사용하여 데이터에서 이상을 감지하는 알고리즘을 사용한 추세 변경, 급증 및 수준 변경을 캡처하는 것입니다.

데모를 보려면 그림 1을 참조하세요. 여기서 각 시간 단위에서 자산에 대한 센서 값 기록은 파란색 선으로 표시하고 t<sub>1</sub> 및 t<sub>2</sub>에서 레코드에 대한 W=3의 롤링 평균 기능 계산은 각각 주황색과 녹색으로 그룹화하여 표시합니다.

![그림 1. 롤링 집계 기능](media/cortana-analytics-playbook-predictive-maintenance/rolling-aggregate-features.png)

그림 1. 롤링 집계 기능

예를 들어 항공기 구성 요소 오류의 경우, 마지막 주, 마지막 3일 및 마지막 날짜의 센서 값을 사용하여 롤링 평균, 표준 편차 및 합계 기능을 만듭니다. 마찬가지로 ATM 오류의 경우, 원시 센서 값 및 롤링 평균, 중간값, 범위, 표준 편차, 3개의 표준 편차를 초과하는 이상치 수, 상위 및 하위 CUMSUM 기능이 사용됩니다.

비행 지연 예측의 경우, 마지막 주의 오류 코드 수가 기능을 만드는 데 사용됩니다. 기차 도어 오류의 경우, 마지막 날짜의 이벤트 수, 과거 2주 동안의 이벤트 수, 과거 15일 동안의 이벤트 수 변동이 지연 기능을 만드는 데 사용됩니다. 유지 관리 관련 이벤트에는 동일한 개수가 사용됩니다.

또한 매우 큰 W(예: 연도)를 선택하여 모든 유지 관리 레코드, 오류 계산 등에서 레코드 시간까지 자산의 전체 기록을 살펴볼 수 있습니다. 이 방법은 최근 3년 동안 회로 차단기 오류를 계산하는 데 사용됩니다. 또한 기차 오류의 경우 모든 유지 관리 이벤트를 계산하여 장기적인 유지 관리 효과를 캡처하는 기능을 만듭니다.

##### *텀블링 집계*
자산의 레이블 지정된 각 레코드에 대해 "W-<sub>k</sub>" 크기 기간을 선택합니다. 여기서 k는 숫자 또는 지연 기능을 만들려는 "W" 크기의 기간입니다. 장기 성능 저하 패턴을 캡처할 만큼 큰 수나 단기 효과를 캡처할 작은 수의 "k"를 선택할 수 있습니다. 그런 다음 k 텀블링 기간 W-<sub>k</sub> , W-<sub>(k-1)</sub>, …, W-<sub>2</sub> , W-<sub>1</sub>를 사용하여 레코드 날짜 및 시간 이전 기간에 대한 집계 기능을 만듭니다(그림 2 참조). 이것은 레코드 수준에서 시간 단위에 대한 롤링 기간이기도 하며 그림 2에는 캡처되지 않았지만 그림 1과 개념은 같습니다. 그림 1에서는 t<sub>2</sub>가 롤링 효과를 보여주기 위해 사용됩니다.

![그림 2. 텀블링 집계 기능](media/cortana-analytics-playbook-predictive-maintenance/tumbling-aggregate-features.png)

그림 2. 텀블링 집계 기능

예를 들어 풍력 터빈의 경우, W = 1 및 k = 3개월이 마지막 3개월 각각에 대해 상단 및 하단 이상치를 사용하여 지연 기능을 만드는 데 사용됩니다.

#### 정적 기능
제조 날짜, 모델 번호, 위치 등 장비의 기술적 사양입니다. 지연 기능은 대부분 숫자인 반면 정적 기능은 일반적으로 모델에서 범주 변수가 됩니다. 예를 들어 전압, 전류 및 전원 사양과 같은 회로 차단기 속성이 변환기 유형, 전원 등과 함께 사용됩니다. 회로 차단기 오류의 경우, 합금 또는 강철과 같은 타이어 바퀴 유형이 정적 기능의 일부로 사용됩니다.

기능을 생성하는 동안 누락된 값 처리 및 정규화 같은 기타 중요한 단계를 수행해야 합니다. 누락된 값 대체와 여기서는 설명하지 않은 데이터 정규화에 관한 여러 가지 방법이 있습니다. 그러나 다양한 방법을 시도하여 예측 성능을 높일 수 있는지 확인하는 것도 좋습니다.

이전 섹션에서 논의한 기능 엔지니어링 단계 후 최종 기능 테이블은 다음 예제 데이터 스키마와 같아야 합니다(시간 단위가 일인 경우).

|자산 ID|Time|기능 열|레이블|
|---|---|---|---|
|1|1일차|||
|1|2일차|||
|...|...|||
|2|1일차|||
|2|2일차|||
|...|...|||

## 모델링 기술
예측 유지 관리는 다양한 예측 모델링 관점에서 접근할 수 있는 비즈니스 질문을 주로 사용하는 매우 풍부한 도메인입니다. 다음 섹션에서는 예측 유지 관리 솔루션으로 응답할 수 있는 다양한 비즈니스 질문을 모델링하는 데 사용되는 주요 기술을 제공합니다. 유사성도 있지만 각 모델은 레이블을 생성하는 고유한 방식을 포함하며 이에 대해서는 자세히 설명합니다. 함께 제공되는 리소스로 Azure 기계 학습 내에서 제공된 샘플 실험에 포함된 예측 유지 관리 템플릿을 참조할 수 있습니다. 이 템플릿에 대한 온라인 자료에 대한 링크는 리소스 섹션에 제공됩니다. 위에서 설명한 기능 엔지니어링 기술 중 일부와 다음 섹션에서 다룰 모델링 기술을 Azure Machine Learning을 사용하여 항공기 엔진 오류 예측에 어떻게 적용하는지 확인할 수 있습니다.

### 예측 유지 관리를 위한 이진 분류
예측 유지 관리를 위한 이진 분류는 장비가 향후 기간 내에 실패할 확률을 예측하는 데 사용됩니다. 이 기간은 제공된 비즈니스 규칙 및 데이터에 따라 결정됩니다. 몇 가지 공통적인 기간은 구성 요소가 손상될 가능성으로 교체할 예비 부품을 구매하는 데 필요한 최소 지연 시간 또는 기간 내에 발생할 수 있는 문제를 해결하는 유지 관리 루틴을 수행할 유지 관리 리소스를 배포하는 데 필요한 시간입니다. 이것을 향휴 예측 가능 기간 "X"라고 합니다.

이진 분류를 사용하려면 긍정 및 부정이라는 두 가지 유형의 예제를 식별해야 합니다. 각 예제는 앞서 설명한 기록 및 기타 데이터 원본을 사용하여 기능 엔지니어링을 통해 해당 시간 단위까지의 작동 상태를 개념적으로 설명 및 추상화하는 자산에 대한 시간 단위에 속하는 레코드입니다. 예측 유지 관리에 대한 이진 분류 컨텍스트에서 긍정 유형은 오류(레이블 1)를 나타내고 부정 유형은 정상적인 작동(레이블 = 0)을 나타냅니다. 여기서 레이블은 범주 유형입니다. 목표는 다음 X 시간 단위 내에서 실패 또는 정상적으로 작동할 가능성이 있는 새로운 각 예제를 식별하는 모델을 찾는 것입니다.

#### 레이블 생성
"다음 X 시간 단위에 자산이 실패할 확률"에 대한 질문에 답할 수 있는 예측 모델을 만들려면 자산에 오류가 발생하기 전 X 레코드를 사용하고 이를 "실패할 가능성 있음"(레이블 = 1)으로 레이블 지정하고 나머지 레코드는 "정상"(레이블 =0)으로 지정하여 레이블 지정을 완료합니다. 이 방법에서는 레이블이 범주 변수입니다(그림 3 참조).

![그림 3. 이진 분류에 대한 레이블 지정](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-binary-classification.png)

그림 3. 이진 분류에 대한 레이블 지정

비행 지연 및 취소의 경우 X는 다음 24시간의 지연을 예측하기 위해 1일로 선택합니다. 오류가 발생하기 전 24시간 이내 모든 비행이 1로 레이블 지정됩니다. ATM 현금 지급 오류의 경우 다음 10분 동안 트랜잭션 오류 확률과 제공된 다음 100개 입출금 기록의 오류 확률을 예측하는 두 가지 이진 분류 모델이 빌드됩니다. 첫 번째 모델에서는 오류 발생 10분 이내에 발생한 모든 트랜잭션이 1로 레이블 지정됩니다. 두 번째 모델에서는 오류 발생 마지막 100개 입출금 기록 안에 포함된 모든 제공된 기록이 1로 레이블 지정됩니다. 회로 차단기 오류의 경우 향후 하나의 명령이 진행되도록 X가 선택된 경우 다음 회로 차단기 명령이 실패할 확률을 예측하는 것입니다. 기차 도어 오류의 경우 다음 7일 이내 오류를 예측하는 이진 분류 모델이 빌드됩니다. 풍력 터빈 오류의 경우 X는 3개월로 선택됩니다.

풍력 터빈 및 기차 도어 사례는 동일한 데이터를 사용하지만 다른 레이블 지정 전략을 활용하여 남은 가용 수명을 예측하는 회귀 분석에도 사용됩니다. 이 내용은 다음 섹션에서 설명합니다.

### 예측 유지 관리에 대한 회귀
유지 관리에서 회귀 모델은 자산의 RUL(남은 가용 수명)을 계산하는 데 사용되며 RUL은 자산이 다음 오류가 발생하기 전까지 작동하는 시간으로 정의됩니다. 이진 분류와 마찬가지로 각 예제는 자산에 대한 시간 단위 "Y"에 속하는 레코드입니다. 그러나 회귀 컨텍스트에서 목표는 각 새로운 예제의 남은 가용 수명을 오류가 발생할 때까지 남은 기간에 대한 연속 숫자로 계산하는 모델을 찾는 것입니다. 이 기간을 Y의 배수로 지칭합니다. 또한 각 예제는 다음 오류가 발생할 때까지 예제에 대해 남은 시간을 측정하여 계산할 수 있는 남은 가용 수명도 포함합니다.

#### 레이블 생성
"장비의 남은 가용 수명"에 대한 질문에 대해서는 오류 이전 각 레코드를 사용하고 다음 오류 전 남은 시간 단위를 계산하여 레이블을 지정하는 방법으로 회귀 모델에 대한 레이블을 생성할 수 있습니다. 이 방법에서는 레이블이 연속 변수입니다(그림 4 참조).

![그림 4. 회귀에 대한 레이블 지정](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-regression.png)

그림 4. 회귀에 대한 레이블 지정

회귀의 경우 이진 분류와 달리 레이블 지정이 오류 지점을 참조하여 이루어지기 때문에 데이터에서 오류가 없는 자산은 모델링에 사용할 수 없습니다. 이 경우 오류 전에 자산이 얼마나 오래 생존하는지 알아야 계산이 가능합니다. 이 문제는 생존 분석이라는 다른 통계 기술로 가장 잘 해결할 수 있습니다. 생존 분석을 예측 유지 관리 사용 사례에 적용할 경우 시간에 따라 변화하는 데이터가 빈번하게 포함되어 잠재적인 복잡성이 증가할 수 있으므로 이 플레이 북에서는 생존 분석에 대해서는 다루지 않습니다

### 예측 유지 관리를 위한 다중 클래스 분류
예측 유지 관리를 위한 다중 클래스 분류는 두 가지 미래 결과를 예측하는 데 사용할 수 있습니다. 첫 번째는 자산을 가능한 여러 기간 중 하나에 할당하여 각 자산에 대한 오류에 시간 범위를 제공합니다. 두 번째는 향후 기간에 여러 근본 원인 중 하나로 인한 오류 가능성을 식별하는 것입니다. 따라서 이러한 지식을 갖춘 유지 관리 담당자는 문제를 사전에 처리할 수 있습니다. 다른 다중 클래스 모델링 기술은 주어진 오류의 가능성이 높은 근본 원인을 확인하는 데 초점을 둡니다. 따라서 오류를 해결하기 위해 수행할 최우선 유지 관리 작업에 대한 권장 사항을 제공할 수 있습니다. 근본 원인 및 관련 복구 작업에 대한 순위 목록을 보유함으로써 기술자는 오류가 발생한 후 최초 복구 작업을 수행할 때 보다 효율적으로 작업할 수 있습니다.

#### 레이블 생성
"다음 "aZ" 시간 단위에 자산이 실패할 확률(여기서 "a"는 기간 수)" 및 "다음 X 시간 단위에 문제 "P<sub>i</sub>"로 인해 자산이 실패할 확률(여기서 "i"는 가능한 근본 원인 수)"이라는 두 질문이 주어진 경우 레이블 지정은 기술에 대해 다음과 같은 방식으로 이루어집니다.

첫 번째 질문의 경우 자산의 오류 전 aZ 레코드를 사용하고 시간 버킷(3Z, 2Z, Z)을 레이블로 사용하고 다른 모든 레코드는 "정상"(레이블 =0)으로 레이블을 지정하는 방법으로 레이블 지정이 이루어집니다. 이 방법에서는 레이블이 범주 변수입니다(그림 5 참조).

![그림 5. 오류 시간 예측을 위한 다중 클래스 분류에 대한 레이블 지정](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-failure-time-prediction.png)

그림 5. 오류 시간 예측을 위한 다중 클래스 분류에 대한 레이블 지정

두 번째 질문의 경우 자산의 오류 전 X 레코드를 사용하고 "문제 P<sub>i</sub>로 인해 실패할 가능성 있음"(레이블 = P<sub>i</sub>)으로 레이블 지정하고 다른 모든 레코드는 "정상"(레이블 =0)으로 레이블을 지정하는 방법으로 레이블 지정이 이루어집니다. 이 방법에서는 레이블이 범주 변수입니다(그림 6 참조).

![그림 6. 근본 원인 예측을 위한 다중 클래스 분류에 대한 레이블 지정](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-root-cause-prediction.png)

그림 6. 근본 원인 예측을 위한 다중 클래스 분류에 대한 레이블 지정

이 모델은 각 P<sub>i</sub>로 인한 오류 확률뿐만 아니라 오류가 없을 확률도 할당합니다. 이러한 확률은 크기로 정렬하여 미래에 발생할 가능성이 높은 문제를 예측할 수 있습니다. 항공기 구성 요소 오류 사용 사례는 다중 클래스 분류 문제로 구조화됩니다. 따라서 다음 달 내에 발생하는 두 개의 서로 다른 압력 밸브 구성 요소로 인한오류 확률을 예측할 수 있습니다.

오류 후 유지 관리 작업을 권장하기 위해 레이블 지정 시 향후 예측 기간을 선택하지 않아도 됩니다. 모델은 앞으로 발생할 오류를 예측하지 않지만 오류가 이미 발생한 후에는 가능한 근본 원인을 예측하기 때문입니다. 엘리베이터 도어 오류는 세 번째 사례에 해당하며 여기서 목표는 작동 상태에서 기록 데이터를 고려하여 오류의 원인을 예측하는 것입니다. 이후 이 모델은 오류가 발생한 후 가능한 근본 원인을 예측하는 데 사용됩니다. 이 모델의 주요 이점 중 하나는 경험이 없는 초보 기술자가 몇 년의 경력이 있어야 비로소 해결할 수 있는 문제를 쉽게 진단 및 수정할 수 있도록 해준다는 점입니다.

## 예측 유지 관리에서 학습, 유효성 검사 및 테스트 방법
타임 스탬프가 지정된 데이터가 포함된 기타 솔루션 분야와 마찬가지로 예측 유지 관리에서 일반적인 학습 및 테스트 루틴은 확실치 않은 미래 데이터에 대한 최선의 일반화를 위해 시간에 따라 변하는 측면을 고려해야 합니다.

### 교차 유효성 검사
수많은 기계 학습 알고리즘이 모델 성능을 크게 변경할 수 있는 다양한 하이퍼 매개 변수에 의존합니다. 이러한 하이퍼 매개 변수에 대한 최적 값은 모델을 학습할 때 자동으로 계산되지 않지만 데이터 과학자가 지정해야 합니다. 하이퍼 매개 변수에 적절한 값을 찾는 방법에는 여러 가지가 있습니다. 가장 일반적인 방법은 예제를 "k" 접기로 임의 분할하는 "K 접기 교차 유효성 검사"입니다. 각 하이퍼 매개 변수 값 집합에 대해 학습 알고리즘이 k번 실행됩니다. 반복 시마다 현재 접기의 예제가 유효성 검사 집합으로 사용되고 나머지 예제는 학습 집합으로 사용됩니다. 알고리즘은 학습 예제를 통해 학습되며 성능 메트릭은 유효성 검사 예제를 통해 계산됩니다. 각 하이퍼 매개 변수 값 집합에 대한 이 루프의 끝에서 k 성능 메트릭 값의 평균을 계산하고 최적의 평균 성능을 포함하는 하이퍼 매개 변수 값을 선택합니다.

앞에서 언급했듯이 예측 유지 관리 문제에서 데이터는 여러 데이터 원본에서 가져온 이벤트의 시계열로 기록됩니다. 이러한 레코드는 레코드 또는 예제의 레이블 지정된 시간에 따라 정렬할 수 있습니다. 따라서 데이터 집합을 학습 및 유효성 검사 집합으로 임의 분할하는 경우 일부 학습 예제는 일부 유효성 검사 예제보다 시간상 뒤에 있게 됩니다. 그러면 모델을 학습하기 전에 도착한 데이터를 기반으로 하이퍼 매개 변수 값의 미래 성능이 예측됩니다. 이러한 예측은 지나치게 낙관적을 수 있습니다. 특히 시계열이 고정되지 않고 시간에 따라 해당 동작이 변화하는 경우 그렇습니다. 결과적으로 선택된 하이퍼 매개 변수 값은 최적이 아닐 수 있습니다.

하이퍼 매개 변수에 대해 적절한 값을 선택하는 더 나은 방법은 예제를 학습 및 유효성 검사 집합으로 시간 종속 방식으로 분할하는 것입니다. 이 경우 모든 유효성 검사 예제가 모든 학습 예제보다 시간상 뒤에 있게 됩니다. 그런 다음 학습 집합을 통해 알고리즘을 학습한 각 하이퍼 매개 변수 값 집합에 대해 동일한 유효성 검사 집합을 통한 모델의 성능을 측정하고 최적의 성능을 나타내는 하이퍼 매개 변수 값을 선택합니다. 시계열 데이터가 고정되지 않고 시간에 따라 전개되는 경우 학습/유효성 검사 분할로 선택된 하이퍼 매개 변수 값은 교차 유효성 검사로 임의 선택한 미래 성능보다 모델에 의한 미래 성능이 더 우수합니다.

최종 모델은 학습/유효성 검사 분할 또는 교차 유효성 검사로 찾은 최적의 하이퍼 매개 변수 값을 사용하여 전체 데이터를 통해 학습 알고리즘을 학습하여 생성합니다.

### 모델 성능 테스트
모델을 빌드한 후에는 새 데이터에 대한 미래 성능을 예측해야 합니다. 가장 간단한 예측은 학습 데이터를 통한 모델의 성능일 수 있습니다. 하지만 이러한 예측은 모델이 성능을 예측하는 데 사용된 데이터에 맞춰지기 때문에 지나치게 낙관적입니다. 더 나은 예측은 유효성 검사 집합을 통해 계산된 하이퍼 매개 변수 값의 성능 메트릭이나 교차 유효성 검사에서 계산된 평균 성능 메트릭일 수 있습니다. 하지만 이전과 같은 이유로 이러한 예측 역시 지나치게 낙관적입니다. 모델 성능을 측정하기 위한 보다 현실적인 접근이 필요합니다.

한 가지 방법은 데이터를 학습, 유효성 검사 및 테스트 집합으로 임의로 분할하는 것입니다. 하이퍼 매개 변수 값을 선택하고 값으로 모델을 학습하는 데 학습 및 유효성 검사 집합이 사용됩니다. 모델의 성능은 테스트 집합을 통해 측정됩니다.

예측 유지 관리에 관한 다른 방법은 예제를 학습, 유효성 검사 및 테스트 집합으로 시간 종속 방식으로 분할하는 것입니다. 이 경우 모든 테스트 예제가 모든 학습 및 유효성 검사 예제보다 시간상 뒤에 있게 됩니다. 분할 후, 앞에서 설명한 것과 같이 모델 생성 및 성능 측정이 이루어집니다.

시계열이 고정되고 예측하기 쉬운 경우 두 접근 방식에서 미래 성능에 대해 유사한 예측을 생성합니다. 하지만 시계열이 고정되지 않고 예측하기 어려운 경우 두 번째 접근 방식은 첫 번째 방식보다 미래 성능에 대해 보다 현실적인 예측을 생성합니다.

### 시간 종속 분할
이 섹션에서는 모범 사례로, 시간 종속 분할을 구현하는 방법을 자세히 살펴봅니다. 여기서는 학습 및 테스트 집합 간에 두 가지 시간 종속 분할 방식을 설명하지만 학습 및 유효성 검사 집합의 시간 종속 분할에는 정확하게 동일한 논리가 적용됩니다.

다양한 센서에서 얻은 측정값과 같은 타임 스탬프가 지정된 이벤트 스트림이 있다고 가정합니다. 학습 및 테스트 예제 기능뿐만 아니라 해당 레이블은 여러 이벤트를 포함하는 기간에 걸쳐 정의됩니다. 예를 들어 이진 분류의 경우, 기능 엔지니어링 및 모델링 기술 섹션에서 설명한 대로, 과거 이벤트에 따라 기능이 만들어지고 향후 "X" 시간 단위 이내의 미래 이벤트에 따라 레이블이 만들어집니다. 따라서 예제의 레이블 지정 기간은 해당 기능의 기간보다 이후에 나타납니다. 시간 종속 분할의 경우 해당 시점까지 기록 데이터를 사용하여 조정된 하이퍼 매개 변수로 모델을 학습할 시점을 선택합니다. 학습 데이터에 대한 학습 중단일 이후 미래 레이블의 누출을 방지하기 위해 학습 예제의 레이블이 학습 중단일 이전 X 단위가 되도록 최근 기간을 선택합니다. 그림 7에서 각 단색 원은 기능 및 레이블이 위에 설명된 방법에 따라 계산된 최종 기능 데이터 집합의 행을 나타냅니다. 또한 이 그림은 X=2 및 W=3에 대한 시간 종속 분할을 구현할 때 학습 및 테스트 집합으로 이동할 레코드를 보여줍니다.

![그림 7. 이진 분류를 위한 시간 종속 분할](media/cortana-analytics-playbook-predictive-maintenance/time-dependent-split-for-binary-classification.png)

그림 7. 이진 분류를 위한 시간 종속 분할

녹색 사각형은 학습에 사용할 수 있는 시간 단위에 속하는 레코드를 나타냅니다. 앞에서 설명한 대로 최종 기능 테이블의 각 학습 예제는 과거 3개 기간에서 기능 생성을 확인하고 미래 2개 기간에서 학습 종료일 이전 레이블 지정을 확인하여 생성합니다. 해당 예제에 대해 미래 2개 기간의 일부라도 학습 종료일 이후인 경우 학습 종료일 이후에는 가시성이 없는 것으로 가정하므로 학습 집합에 예제를 사용하지 않습니다. 이러한 제약 조건으로 인해 검은색 예제는 학습 데이터 집합에 사용되지 않을 최종 레이블 지정된 데이터 집합 레코드를 나타냅니다. 이 레코드는 학습 종료일 이전이고 해당 레이블 지정 기간이 학습 기간에 부분적으로 종속되므로 테스트 데이터에도 사용되지 않습니다. 학습 및 테스트를 위한 레이블 지정 기간을 완전히 분리하여 레이블 정보가 누출되지 않도록 하므로 더욱 그렇습니다.

이 기술을 통해 학습 종료일에 근접한 학습 및 테스트 예제 간의 기능 생성에 사용된 데이터에 중복이 허용됩니다. 사용 가능한 데이터에 따라 학습 종료일의 W 시간 단위 내에 있는 테스트 집합의 예제를 사용하지 않고 보다 철저히 분리할 수 있습니다.

실무에서는, 남은 가용 수명을 예측하는 데 사용된 회귀 모델이 누출 문제에 매우 큰 영향을 받으며 임의 분할을 사용할 경우 과잉 맞춤이 발생한다는 것을 알게 되었습니다. 마찬가지로, 회귀 문제에서도 학습 종료 이전 오류가 있는 자산에 속하는 레코드는 학습 집합에 사용되어야 하고 학습 종료 이후 오류가 있는 자산에 속하는 레코드는 테스트 집합에 사용되는 식으로 분할이 이루어져야 합니다.

일반적인 방법으로 학습 및 테스트를 위한 데이터를 분할하는 다른 중요한 모범 사례는 자산 ID로 분할을 사용하여 학습에 사용된 자산이 테스트에 사용되지 않도록하는 것입니다. 테스트의 개념은 예측에 새 자산이 사용될 때 모델이 현실적인 결과를 제공하도록 보장하는 것이기 때문입니다.

### 불균형 데이터 처리
분류 문제에서 한 클래스에 다른 클래스보다 더 많은 예제가 있는 경우 이 데이터를 불균형하다고 합니다. 이상적으로 서로 다른 클래스를 구분할 수 있으려면 학습 데이터의 각 클래스에 충분한 대표값이 있는 것이 좋습니다. 한 클래스가 데이터의 10% 미만인 경우 이 데이터를 불균형하다고 하며 대표값이 부족한 데이터 집합 소수 클래스(underrepresented dataset minority class)라고 합니다. 상당히 많은 경우 한 클래스가 다른 클래스에 비해 대표값이 매우 부족한 불균형 데이터 집합을 확인할 수 있습니다(예를 들어 데이터 요소의 불과 0.001%를 구성). 클래스 불균형은 부정 행위 감지, 네트워크 침임 및 예측 유지 관리처럼 소수 클래스 예제를 구성하는 자산의 수명 중에 일반적으로 오류가 드물게 발생하는 여러 분야에서 문제가 됩니다.

클래스 불균형의 경우 전체 오류율을 최소화하는 것을 목표로 하면서 대부분의 표준 학습 알고리즘의 성능이 저하됩니다. 예를 들어, 99% 부정 클래스 예제 및 1% 긍정 클래스 예제를 포함하는 데이터 집합의 경우 모든 인스턴스를 부정으로 단순히 레이블 지정하여 99%의 정확도를 얻을 수 있습니다. 그러나 이 방법은 모든 긍정 예제를 잘못 분류하므로 정확도 메트릭이 매우 높기는 하지만 좋은 알고리즘은 아닙니다. 따라서 오류율에 대한 전체 정확도와 같은 기존의 평가 메트릭만으로는 불균형 학습에서 충분하지 않습니다. 정밀도, 회수, F1 점수 및 비용 조정된 ROC 곡선과 같은 기타 메트릭이 불균형 데이터 집합의 평가에 사용되며 이에 대해서는 평가 메트릭 섹션에서 설명합니다.

그러나 클래스 불균형 문제를 해결하는 데 도움이 되는 몇 가지 방법이 있습니다. 두 가지 주요 방법으로 샘플링 기술과 비용에 민감한 학습이 있습니다.

#### 샘플링 방법
불균형 학습에서 샘플링 방법의 사용은 균형 데이터 집합을 제공하기 위한 몇 가지 메커니즘으로 데이터 집합을 수정하는 것으로 이루어집니다. 다양한 샘플링 기술이 있지만 가장 간단한 기술은 임의 과다 샘플링과 과소 샘플링입니다.

간단히 말해 임의 과다 샘플링은 소수 클래스에서 임의 샘플을 선택하고 이러한 예제를 복제하고 학습 데이터 집합에 추가합니다. 따라서 소수 클래스의 총 예제 수가 증가하고 최종적으로는 서로 다른 클래스의 예제 수가 균형이 맞게 됩니다. 과다 샘플링의 문제점은 특정 예제의 여러 인스턴스가 분류자를 지나치게 구체적으로 만들어 과잉 맞춤을 유도할 수 있다는 점입니다. 따라서 학습 정확도는 높지만 확실치 않은 테스트 데이터의 성능이 매우 저하될 수 있습니다. 반대로, 임의 과소 샘플링은 다수 클래스에서 임의 샘플을 선택하고 해당 예제를 학습 데이터 집합에서 제거합니다. 하지만 다수 클래스에서 예제를 제거하면 분류자가 다수 클래스와 관련된 중요한 개념을 놓칠 수 있습니다. 소수 클래스에 대한 과다 샘플링과 다수 클래스에 대한 과소 샘플링이 동시에 이루어지는 하이브리드 샘플링도 실행할 수 있는 방법입니다. 보다 복잡한 샘플링 기술이 많이 제공되며 클래스 불균형에 효과적인 샘플링 방법은 다양한 채널에서 지속적인 관심과 참여가 있는 대중적인 연구 분야입니다. 가장 효과적인 것을 결정하기 위해 서로 다른 기술을 사용하는 것은 일반적으로 연구 및 실험하는 데이터 과학자들의 몫이며 데이터 속성에 매우 의존적입니다. 또한 샘플링 방법이 테스트 집합이 아닌 학습 집합에만 적용되도록 하는 것도 중요합니다.

#### 비용에 민감한 학습
예측 유지 관리에서는 일반 예제보다 소수 클래스를 구성하는 오류에 관심이 있으므로 오류에 대한 알고리즘의 성능에 초점을 둡니다. 일반적으로 이를 서로 다른 클래스의 요소를 잘못 분류하는 불규칙 손실 또는 비대칭 비용이라고 합니다. 이 경우 긍정을 부정으로 잘못 예측하는 경우 그 반대의 경우보다 더 많은 비용 손실이 있습니다. 원하는 분류자가 다수 클래스의 정확도에 심각한 영향을 주지 않고 소스 클래스에 대해 높은 예측 정확도를 제공할 수 있게 됩니다.

여러 가지 방법으로 이를 수행할 수 있습니다. 소수 클래스의오분류에 높은 비용을 할당하고 전체 비용을 최소화하도록 시도하면 불규칙 손실의 문제를 효과적으로 처리할 수 있습니다. 학습 시간 중에 긍정 및 부정 예제의 비용을 통합할 수 있는 SVM(지원 백터 컴퓨터)와 같은 일부 기계 학습 알고리즘에서는 본질적으로 이 개념을 사용합니다. 마찬가지로, 부스팅 방법이 사용되고 향상된 의사 결정 트리와 같은 불균형 데이터의 경우 일반적으로 좋은 성능을 나타냅니다.

## 평가 메트릭
앞에서 언급했듯이, 알고리즘은 소수 클래스 사례보다 다수 클래스 예제를 더 잘 분류하는 경향이 있으며 클래스 불균형의 경우 성능 저하를 야기하며 다수 클래스가 바르게 레이블 지정된다면 총 오분류 오류가 훨씬 개선됩니다. 클래스 불균형은 낮은 회수율을 야기하고 비즈니스에 대한 거짓 경고 비용이 매우 높은 경우 큰 문제가 됩니다. 정확도는 분류자의 성능을 설명하는 데 가장 널리 사용되는 메트릭입니다. 그러나 앞에서 설명한 것처럼 정확도는 비효율적이며 데이터 분포에 매우 민감하므로 분류자 기능의 실제 성능을 반영하지 않습니다. 대신, 불균형 학습 문제를 평가하는 데 다른 평가 메트릭이 사용됩니다. 이 경우 정밀도, 회수 및 F1 점수가 예측 유지 관리 모델 성능을 평가하는 데 확인하는 초기 메트릭이어야 합니다. 예측 유지 관리에서 회수율은 테스트 집합에서 얼마나 많은 오류가 모델에 의해 정확히 식별되었는지를 나타냅니다. 회수율이 높다는 것은 모델이 실제 오류를 성공적으로 캐치했음을 나타냅니다. 정밀도 메트릭은 거짓 경고 비율과 관련이 있으며 정밀도 비율이 낮을수록 거짓 경고 수가 높은 것입니다. F1 점수는 정밀도와 회수율을 모두 고려하며 최적 값은 1이고 최악 값은 0입니다.

또한 이진 분류의 경우 성능을 평가할 때 10분위수 테이블 및 리프트 차트가 매우 유용합니다. 이 방법은 긍정 클래스(오류)에만 집중하고 ROC(Receiver Operating Characteristic) 곡선에서 고정된 작동 지점을 확인하는 것보다 알고리즘 성능에 대해 보다 복잡한 그림을 제공합니다. 10분위수 테이블은 최종 레이블에서 임계값을 결정하기 전에 모델로 계산된 오류의 예측 확률에 따라 테스트 예제를 정렬하여 얻습니다. 그러면 정렬된 샘플이 10분위수로 그룹화됩니다(즉, 가장 큰 확률의 10% 샘플, 20%, 30% 등). 각 10분위수의 참 긍정 비율과 임의 기준(예: 0.1, 0.2 ..) 간의 비율을 계산하여 알고리즘 성능이 각 10분위수에서 어떻게 변화하는지 예측할 수 있습니다. 리프트 차트는 모든 10분위수에 대해 10분위수 참 긍정 비율과 임의 참 긍정 비율 쌍을 그려서 10분위수 값을 표현하는 데 사용됩니다. 일반적으로 첫 번째 10분위수는 가장 큰 이익을 나타내므로 핵심 결과입니다. 첫 번째 10분위수는 예측 유지 관리에 사용될 때 "위험"에 대한 대표값으로 나타낼 수 있습니다.

## 샘플 솔루션 아키텍처
예측 유지 관리 솔루션을 배포할 경우 우리는 연속적인 데이터 수집 주기, 모델 학습, 기능 생성, 결과의 예측 및 시각화를 위한 데이터 저장소와 자산 모니터링 대시 보드와 같은 경고 생성 메커니즘을 함께 제공하는 종단 간 솔루션에 관심을 갖습니다. 연속적이고 자동화된 방식으로 사용자에 대한 향후 통찰력을 제공하는 데이터 파이프라인을 원합니다. 이러한 IoT 데이터 파이프라인에 대한 예측 유지 관리 아키텍처 예가 아래 그림 8에 나와 있습니다. 아키텍처에서 실시간으로 원격 분석은 스트리밍 데이터를 저장하는 이벤트 허브로 수집됩니다. 이 데이터는 기능 생성과 같은 데이터의 실시간 처리를 위해 스트림 분석으로 수집됩니다. 그러면 이 기능을 예측 모델 웹 서비스를 호출하는 데 사용하며 결과가 대시 보드에 표시됩니다. 이와 동시에 수집된 데이터는 기록 데이터베이스에도 저장되며 온-프레미스 데이터베이스와 같은 외부 데이터 원본과 병합되어 모델링을 위한 학습 예제를 생성합니다. 예제를 배치 평가하고 결과를 저장하는 데 동일한 데이터 웨어하우스를 사용할 수 있으며 또한, 대시 보드에 예측 보고서를 제공하는 데도 사용할 수 있습니다.

![그림 8. 예측 유지 관리를 위한 솔루션 아키텍처 예](media/cortana-analytics-playbook-predictive-maintenance/example-solution-architecture-for-predictive-maintenance.png)

그림 8. 예측 유지 관리를 위한 솔루션 아키텍처 예

아키텍처의 각 구성 요소에 대한 자세한 내용은 [Azure](https://azure.microsoft.com/) 설명서를 참조하세요.

<!---HONumber=AcomDC_0914_2016-->